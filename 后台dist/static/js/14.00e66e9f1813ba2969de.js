webpackJsonp([14],{TdmL:function(t,e,a){"use strict";e.d=function(t){return Object(n.a)({url:"/kukacms/api/complaint/news/getById.htm?id="+t,method:"get"})},e.e=function(t,e,a){return Object(n.a)({url:"/kukacms/api/complaint/news/page.htm?curPage="+t+"&sizePage="+e+"&status="+a,method:"get"})},e.b=function(t){return Object(n.a)({url:"/kukacms/api/complaint/news/delete.htm?id="+t,method:"get"})},e.c=function(t){return Object(n.a)({url:"/kukacms/api/complaint/news/update.htm",method:"post",data:s.a.stringify(t)})},e.a=function(t){return Object(n.a)({url:"/kukacms/api/complaint/news/add.htm",method:"post",data:s.a.stringify(t)})};var n=a("HNM5"),i=a("zOMd"),s=a.n(i)},kLPX:function(t,e){},kTS2:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("a3Yh"),i=a.n(n),s=a("PE0f"),r=a("TdmL"),c=a("fjIZ"),o={data:function(){var t;return t={list:null,dialog:!1,col:{name:"",id:"",strTime:""},searchList:null,imgList:{},magazine:null,typeList:null,type:null,curPage:1,sizePage:10,title:1,nextPage:"",prePage:"",status:0,content:""},i()(t,"title",""),i()(t,"content",""),i()(t,"bannerUrl",null),i()(t,"covers",null),i()(t,"editId",""),t},created:function(){var t=this;Object(r.e)(this.curPage,this.sizePage,0).then(function(e){console.log(e),t.list=e.data.itemList,t.nextPage=e.data.nextPage,t.prePage=e.data.prePage})},methods:{upPages:function(){var t=this;1!=this.curPage&&1==this.prePage&&(this.curPage--,Object(r.e)(this.curPage,this.sizePage,this.status).then(function(e){t.list=e.data.itemList,t.nextPage=e.data.nextPage,t.prePage=e.data.prePage}))},nextPages:function(){var t=this;1==this.nextPage&&(this.curPage++,Object(r.e)(this.curPage,this.sizePage,this.status).then(function(e){t.list=e.data.itemList,t.nextPage=e.data.nextPage,t.prePage=e.data.prePage}))},del:function(t){var e=this;this.$confirm("即将删除期刊, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){console.log(t),Object(r.b)(t).then(function(t){e.$message({type:"success",message:"删除成功!"}),Object(r.e)(e.curPage,e.sizePage,e.status).then(function(t){e.list=t.data.itemList})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleSuccess:function(t){console.log(t),this.covers=t.data[1],this.bannerUrl=t.data[1],this.$refs.upload.clearFiles()},editor:function(t){this.$router.push({name:"addCaseComp",query:{id:t}})},saveEdit:function(){var t=this;Object(r.c)(this.title,this.content,this.status,this.covers,this.editId).then(function(e){1e3==e.code&&t.$message({message:"保存成功",type:"success"}),t.dialog=!1,t.$refs.upload.clearFiles(),Object(r.e)(t.curPage,t.sizePage,t.status).then(function(e){t.list=e.data.itemList,t.nextPage=e.data.nextPage,t.prePage=e.data.prePage})})},unStatus:function(){var t=this;1==this.status?this.status=0:this.status=1,Object(r.e)(this.curPage,this.sizePage,this.status).then(function(e){t.list=e.data.itemList,t.nextPage=e.data.nextPage,t.prePage=e.data.prePage})},pushDoc:function(t){var e=this;this.$confirm("即将推送, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a="《"+t+"》";Object(s.g)(a,1).then(function(t){if(0==t.data.errorlist.length)e.$alert("已推送至全部部门!","提示",{confirmButtonText:"确定",type:"warning"});else{var a="";for(var n in t.data.errorlist){a+=t.data.errorlist[n]+"，"}a+="以上部门未推送成功",e.$alert(a,"提示",{confirmButtonText:"确定",type:"warning"})}})}).catch(function(){e.$message({type:"info",message:"取消推送"})})}},filters:{formatDate:function(t){var e=new Date(t);return Object(c.a)(e,"yyyy-MM-dd")},stage:function(t){return console.log(t),0==t?"通过":1==t?"不通过":void 0}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",{staticStyle:{margin:"20px 0","font-size":"24px"}},[t._v("案例列表")]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px",float:"right"}},[a("el-col",[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.unStatus}},[t._v("切换状态显示列表")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.upPages}},[t._v("上一页")]),t._v(" "),a("span",[t._v(t._s(t.curPage))]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.nextPages}},[t._v("下一页")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[a("el-table-column",{attrs:{align:"center",type:"index",label:"序号",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(t._f("formatDate")(e.row.createTime)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"title",label:"标题"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(t._f("stage")(e.row.status)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"400"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.pushDoc}},[t._v("消息推送")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.editor(e.row.id)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return t.del(e.row.id)}}},[t._v("删除")])]}}])})],1)],1)},staticRenderFns:[]};var l=a("C7Lr")(o,u,!1,function(t){a("kLPX")},"data-v-58675461",null);e.default=l.exports}});
//# sourceMappingURL=14.00e66e9f1813ba2969de.js.map