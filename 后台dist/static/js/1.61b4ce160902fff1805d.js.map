{"version":3,"sources":["webpack:///./src/api/addNews.js","webpack:///./src/views/newsManager/newsForm/ImageCropper/utils/language.js","webpack:///./src/views/newsManager/newsForm/ImageCropper/utils/mimes.js","webpack:///src/views/complaint/complaintCase/Casecompoent/ImageCroppers/index.vue","webpack:///./src/views/newsManager/newsForm/ImageCropper/utils/effectRipple.js","webpack:///./src/views/newsManager/newsForm/ImageCropper/utils/data2blob.js","webpack:///./src/views/newsManager/newsForm/ImageCropper/index.vue?a060","webpack:///./src/views/newsManager/newsForm/ImageCropper/index.vue","webpack:///./src/views/newsManager/newsForm/news.js","webpack:///src/views/newsManager/newsForm/news-form.vue","webpack:///./src/views/newsManager/newsForm/news-form.vue?8f72","webpack:///./src/views/newsManager/newsForm/news-form.vue","webpack:///src/views/newsManager/addNews.vue","webpack:///./src/views/newsManager/addNews.vue?44a7","webpack:///./src/views/newsManager/addNews.vue"],"names":["__webpack_exports__","news","fetch","url","method","data","qs","stringify","id","__WEBPACK_IMPORTED_MODULE_0__fetch_js__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_1_qs__","__WEBPACK_IMPORTED_MODULE_1_qs___default","n","language","zh","hint","loading","noSupported","success","fail","preview","btn","off","close","back","save","error","onlyImg","outOfSize","lowestPx","zh-tw","en","ro","loewstPx","ru","pt-br","fr","nl","tr","es-MX","de","ja","mimes","jpg","png","gif","svg","psd","ImageCropper","props","field","type","String","default","ki","value","params","Object","headers","width","Number","height","noRotate","Boolean","noCircle","noSquare","maxSize","langType","langExt","imgFormat","withCredentials","this","isSupported","tempImgFormat","indexOf","lang","mime","assign_default","FormData","isSupportTouch","document","hasOwnProperty","step","progress","hasError","errorMsg","ratio","sourceImg","sourceImgUrl","createImgUrl","sourceImgMouseDown","on","mX","mY","x","y","previewContainer","sourceImgContainer","scale","zoomAddOn","zoomSubOn","range","rotateLeft","rotateRight","degree","maxWidth","maxHeight","minWidth","minHeight","naturalWidth","naturalHeight","computed","progressStyle","sourceImgStyle","sourceImgMasking","top","left","transform","-ms-transform","-moz-transform","-webkit-transform","-o-transform","sic","sicRatio","w","h","sourceImgShadeStyle","sim","previewStyle","pc","pcRatio","watch","newValue","reset","methods","ripple","e","arg_opts","opts","ele","target","bgc","rect","getBoundingClientRect","querySelector","className","createElement","style","Math","max","appendChild","offsetHeight","offsetWidth","pageY","body","scrollTop","pageX","scrollLeft","backgroundColor","effectRipple","_this","setTimeout","$emit","setStep","no","_this2","preventDefault","handleClick","$refs","fileinput","activeElement","click","handleChange","files","dataTransfer","checkFile","setSourceImg","file","size","that","FileReader","onload","result","startCrop","readAsDataURL","img","Image","src","nWidth","nHeight","nRatio","createImg","imgStartMove","targetTouches","et","simd","screenX","screenY","imgMove","_sourceImgMouseDown","rX","rY","startRotateRight","rotate","startRotateLeft","endRotate","startZoomAdd","zoom","zoomImg","endZoomAdd","startZoomSub","endZoomSub","zoomChange","newRange","sWidth","sHeight","nX","nY","_that$scale","canvas","ctx","getContext","clearRect","fillStyle","fillRect","translate","PI","drawImage","toDataURL","prepareUpload","upload","fmData","append","split","window","atob","ia","Uint8Array","length","i","charCodeAt","Blob","data2blob","typeof_default","keys_default","forEach","k","then","resData","catch","err","created","_this3","addEventListener","key","keyCode","newsForm_ImageCropper","render","_vm","_h","$createElement","_c","_self","directives","name","rawName","expression","staticClass","_v","dragleave","dragover","dragenter","drop","_s","ref","attrs","change","_e","mousedown","staticStyle","display","draggable","drag","dragstart","dragend","touchstart","touchmove","touchend","touchcancel","mousemove","mouseup","mouseout","min","domProps","input","$event","staticRenderFns","newsManager_newsForm_ImageCropper","normalizeComponent","ssrContext","addNews","news_form","keywords","source","magazine","typeFullPath","contentType","clients","summary","commentAuditRequired","commentMaxValue","commentAllowed","dianzanAllowed","typeId","position","mobileContent","covers","show","rules","required","message","trigger","searchList","typeList","fileList","dialogFormVisible","picList","index","_getMagazineList","mounted","typeName","backList","$router","push","path","magList","res","itemList","searchMagazine","val","setType","onSubmit","_this4","$alert","confirmButtonText","newsform","validate","valid","console","log","$message","duration","onSubmitUp","_this5","$route","query","saveEditor","handleRemove","handlePreview","handleExceed","warning","beforeRemove","$confirm","handleSuccess","response","setImg","select","_this6","content","setimg","saveCover","components","tiny","Tinymce","cropper","newsForm_news_form","model","label-width","label","prop","callback","$$v","$set","placeholder","span","value-key","_l","item","margin","action","on-preview","on-remove","before-remove","on-success","show-file-list","multiple","limit","on-exceed","file-list","alt","crop-upload-success","title","visible","append-to-body","update:visible","class","sel","slot","newsManager_newsForm_news_form","news_form_normalizeComponent","newsManager_addNews","_ref","defineProperty_default","api_addNews","toString","pastList","update","param","get","newsForm","views_newsManager_addNews","addNews_Component","addNews_normalizeComponent"],"mappings":"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","file":"static/js/1.61b4ce160902fff1805d.js","sourcesContent":["import fetch from './fetch.js'\r\nimport qs from 'qs'\r\n\r\nexport function addNews (news) {\r\n  return fetch({\r\n    url: '/kukacms/addDocument.htm',\r\n    method: 'post',\r\n    data: qs.stringify(news)\r\n  })\r\n}\r\n\r\n// 获取期刊文章信息\r\nexport function getDocument (id) {\r\n  return fetch({\r\n    url: `/kukacms/getDocumentById.htm?id=${id}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/addNews.js","export default {\r\n  zh: {\r\n    hint: '点击，或拖动图片至此处',\r\n    loading: '正在上传……',\r\n    noSupported: '浏览器不支持该功能，请使用IE10以上或其他现在浏览器！',\r\n    success: '上传成功',\r\n    fail: '图片上传失败',\r\n    preview: '封面预览',\r\n    btn: {\r\n      off: '取消',\r\n      close: '关闭',\r\n      back: '上一步',\r\n      save: '保存'\r\n    },\r\n    error: {\r\n      onlyImg: '仅限图片格式',\r\n      outOfSize: '单文件大小不能超过 ',\r\n      lowestPx: '图片最低像素为（宽*高）：'\r\n    }\r\n  },\r\n  'zh-tw': {\r\n    hint: '點擊，或拖動圖片至此處',\r\n    loading: '正在上傳……',\r\n    noSupported: '瀏覽器不支持該功能，請使用IE10以上或其他現代瀏覽器！',\r\n    success: '上傳成功',\r\n    fail: '圖片上傳失敗',\r\n    preview: '頭像預覽',\r\n    btn: {\r\n      off: '取消',\r\n      close: '關閉',\r\n      back: '上一步',\r\n      save: '保存'\r\n    },\r\n    error: {\r\n      onlyImg: '僅限圖片格式',\r\n      outOfSize: '單文件大小不能超過 ',\r\n      lowestPx: '圖片最低像素為（寬*高）：'\r\n    }\r\n  },\r\n  en: {\r\n    hint: 'Click or drag the file here to upload',\r\n    loading: 'Uploading…',\r\n    noSupported: 'Browser is not supported, please use IE10+ or other browsers',\r\n    success: 'Upload success',\r\n    fail: 'Upload failed',\r\n    preview: 'Preview',\r\n    btn: {\r\n      off: 'Cancel',\r\n      close: 'Close',\r\n      back: 'Back',\r\n      save: 'Save'\r\n    },\r\n    error: {\r\n      onlyImg: 'Image only',\r\n      outOfSize: 'Image exceeds size limit: ',\r\n      lowestPx: 'Image\\'s size is too low. Expected at least: '\r\n    }\r\n  },\r\n  ro: {\r\n    hint: 'Atinge sau trage fișierul aici',\r\n    loading: 'Se încarcă',\r\n    noSupported: 'Browser-ul tău nu suportă acest feature. Te rugăm încearcă cu alt browser.',\r\n    success: 'S-a încărcat cu succes',\r\n    fail: 'A apărut o problemă la încărcare',\r\n    preview: 'Previzualizează',\r\n\r\n    btn: {\r\n      off: 'Anulează',\r\n      close: 'Închide',\r\n      back: 'Înapoi',\r\n      save: 'Salvează'\r\n    },\r\n\r\n    error: {\r\n      onlyImg: 'Doar imagini',\r\n      outOfSize: 'Imaginea depășește limita de: ',\r\n      loewstPx: 'Imaginea este prea mică; Minim: '\r\n    }\r\n  },\r\n  ru: {\r\n    hint: 'Нажмите, или перетащите файл в это окно',\r\n    loading: 'Загружаю……',\r\n    noSupported: 'Ваш браузер не поддерживается, пожалуйста, используйте IE10 + или другие браузеры',\r\n    success: 'Загрузка выполнена успешно',\r\n    fail: 'Ошибка загрузки',\r\n    preview: 'Предпросмотр',\r\n    btn: {\r\n      off: 'Отменить',\r\n      close: 'Закрыть',\r\n      back: 'Назад',\r\n      save: 'Сохранить'\r\n    },\r\n    error: {\r\n      onlyImg: 'Только изображения',\r\n      outOfSize: 'Изображение превышает предельный размер: ',\r\n      lowestPx: 'Минимальный размер изображения: '\r\n    }\r\n  },\r\n  'pt-br': {\r\n    hint: 'Clique ou arraste o arquivo aqui para carregar',\r\n    loading: 'Carregando…',\r\n    noSupported: 'Browser não suportado, use o IE10+ ou outro browser',\r\n    success: 'Sucesso ao carregar imagem',\r\n    fail: 'Falha ao carregar imagem',\r\n    preview: 'Pré-visualizar',\r\n    btn: {\r\n      off: 'Cancelar',\r\n      close: 'Fechar',\r\n      back: 'Voltar',\r\n      save: 'Salvar'\r\n    },\r\n    error: {\r\n      onlyImg: 'Apenas imagens',\r\n      outOfSize: 'A imagem excede o limite de tamanho: ',\r\n      lowestPx: 'O tamanho da imagem é muito pequeno. Tamanho mínimo: '\r\n    }\r\n  },\r\n  fr: {\r\n    hint: 'Cliquez ou glissez le fichier ici.',\r\n    loading: 'Téléchargement…',\r\n    noSupported: 'Votre navigateur n\\'est pas supporté. Utilisez IE10 + ou un autre navigateur s\\'il vous plaît.',\r\n    success: 'Téléchargement réussit',\r\n    fail: 'Téléchargement echoué',\r\n    preview: 'Aperçu',\r\n    btn: {\r\n      off: 'Annuler',\r\n      close: 'Fermer',\r\n      back: 'Retour',\r\n      save: 'Enregistrer'\r\n    },\r\n    error: {\r\n      onlyImg: 'Image uniquement',\r\n      outOfSize: 'L\\'image sélectionnée dépasse la taille maximum: ',\r\n      lowestPx: 'L\\'image sélectionnée est trop petite. Dimensions attendues: '\r\n    }\r\n  },\r\n  nl: {\r\n    hint: 'Klik hier of sleep een afbeelding in dit vlak',\r\n    loading: 'Uploaden…',\r\n    noSupported: 'Je browser wordt helaas niet ondersteund. Gebruik IE10+ of een andere browser.',\r\n    success: 'Upload succesvol',\r\n    fail: 'Upload mislukt',\r\n    preview: 'Voorbeeld',\r\n    btn: {\r\n      off: 'Annuleren',\r\n      close: 'Sluiten',\r\n      back: 'Terug',\r\n      save: 'Opslaan'\r\n    },\r\n    error: {\r\n      onlyImg: 'Alleen afbeeldingen',\r\n      outOfSize: 'De afbeelding is groter dan: ',\r\n      lowestPx: 'De afbeelding is te klein! Minimale afmetingen: '\r\n    }\r\n  },\r\n  tr: {\r\n    hint: 'Tıkla veya yüklemek istediğini buraya sürükle',\r\n    loading: 'Yükleniyor…',\r\n    noSupported: 'Tarayıcı desteklenmiyor, lütfen IE10+ veya farklı tarayıcı kullanın',\r\n    success: 'Yükleme başarılı',\r\n    fail: 'Yüklemede hata oluştu',\r\n    preview: 'Önizle',\r\n    btn: {\r\n      off: 'İptal',\r\n      close: 'Kapat',\r\n      back: 'Geri',\r\n      save: 'Kaydet'\r\n    },\r\n    error: {\r\n      onlyImg: 'Sadece resim',\r\n      outOfSize: 'Resim yükleme limitini aşıyor: ',\r\n      lowestPx: 'Resmin boyutu çok küçük. En az olması gereken: '\r\n    }\r\n  },\r\n  'es-MX': {\r\n    hint: 'Selecciona o arrastra una imagen',\r\n    loading: 'Subiendo...',\r\n    noSupported: 'Tu navegador no es soportado, porfavor usa IE10+ u otros navegadores mas recientes',\r\n    success: 'Subido exitosamente',\r\n    fail: 'Sucedió un error',\r\n    preview: 'Vista previa',\r\n    btn: {\r\n      off: 'Cancelar',\r\n      close: 'Cerrar',\r\n      back: 'Atras',\r\n      save: 'Guardar'\r\n    },\r\n    error: {\r\n      onlyImg: 'Unicamente imagenes',\r\n      outOfSize: 'La imagen excede el tamaño maximo:',\r\n      lowestPx: 'La imagen es demasiado pequeño. Se espera por lo menos:'\r\n    }\r\n  },\r\n  de: {\r\n    hint: 'Klick hier oder zieh eine Datei hier rein zum Hochladen',\r\n    loading: 'Hochladen…',\r\n    noSupported: 'Browser wird nicht unterstützt, bitte verwende IE10+ oder andere Browser',\r\n    success: 'Upload erfolgreich',\r\n    fail: 'Upload fehlgeschlagen',\r\n    preview: 'Vorschau',\r\n    btn: {\r\n      off: 'Abbrechen',\r\n      close: 'Schließen',\r\n      back: 'Zurück',\r\n      save: 'Speichern'\r\n    },\r\n    error: {\r\n      onlyImg: 'Nur Bilder',\r\n      outOfSize: 'Das Bild ist zu groß: ',\r\n      lowestPx: 'Das Bild ist zu klein. Mindestens: '\r\n    }\r\n  },\r\n  ja: {\r\n    hint: 'クリック・ドラッグしてファイルをアップロード',\r\n    loading: 'アップロード中...',\r\n    noSupported: 'このブラウザは対応されていません。IE10+かその他の主要ブラウザをお使いください。',\r\n    success: 'アップロード成功',\r\n    fail: 'アップロード失敗',\r\n    preview: 'プレビュー',\r\n    btn: {\r\n      off: 'キャンセル',\r\n      close: '閉じる',\r\n      back: '戻る',\r\n      save: '保存'\r\n    },\r\n    error: {\r\n      onlyImg: '画像のみ',\r\n      outOfSize: '画像サイズが上限を超えています。上限: ',\r\n      lowestPx: '画像が小さすぎます。最小サイズ: '\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/newsManager/newsForm/ImageCropper/utils/language.js","export default {\r\n  'jpg': 'image/jpeg',\r\n  'png': 'image/png',\r\n  'gif': 'image/gif',\r\n  'svg': 'image/svg+xml',\r\n  'psd': 'image/photoshop'\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/newsManager/newsForm/ImageCropper/utils/mimes.js","<template>\r\n<div class=\"vue-image-crop-upload\" v-show=\"value\">\r\n  <div class=\"vicp-wrap\">\r\n    <div class=\"vicp-close\" @click=\"off\">\r\n      <i class=\"vicp-icon4\"></i>\r\n    </div>\r\n\r\n    <div class=\"vicp-step1\" v-show=\"step == 1\">\r\n      <div class=\"vicp-drop-area\" @dragleave=\"preventDefault\" @dragover=\"preventDefault\" @dragenter=\"preventDefault\" @click=\"handleClick\" @drop=\"handleChange\">\r\n        <i class=\"vicp-icon1\" v-show=\"loading != 1\">\r\n        <i class=\"vicp-icon1-arrow\"></i>\r\n        <i class=\"vicp-icon1-body\"></i>\r\n        <i class=\"vicp-icon1-bottom\"></i>\r\n        </i>\r\n        <span class=\"vicp-hint\" v-show=\"loading !== 1\">{{ lang.hint }}</span>\r\n        <span class=\"vicp-no-supported-hint\" v-show=\"!isSupported\">{{ lang.noSupported }}</span>\r\n        <input type=\"file\" v-show=\"false\" v-if=\"step == 1\" @change=\"handleChange\" ref=\"fileinput\">\r\n      </div>\r\n      <div class=\"vicp-error\" v-show=\"hasError\">\r\n        <i class=\"vicp-icon2\"></i> {{ errorMsg }}\r\n      </div>\r\n      <div class=\"vicp-operate\">\r\n        <a @click=\"off\" @mousedown=\"ripple\">{{ lang.btn.off }}</a>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"vicp-step2\" v-if=\"step == 2\">\r\n      <div class=\"vicp-crop\" style=\"display: flex\" >\r\n        <div class=\"vicp-crop-left\" v-show=\"true\">\r\n          <div class=\"vicp-img-container\">\r\n            <img :src=\"sourceImgUrl\" :style=\"sourceImgStyle\" class=\"vicp-img\" draggable=\"false\"\r\n              @drag=\"preventDefault\"\r\n              @dragstart=\"preventDefault\"\r\n              @dragend=\"preventDefault\"\r\n              @dragleave=\"preventDefault\"\r\n              @dragover=\"preventDefault\"\r\n              @dragenter=\"preventDefault\"\r\n              @drop=\"preventDefault\"\r\n              @touchstart=\"imgStartMove\"\r\n              @touchmove=\"imgMove\"\r\n              @touchend=\"createImg\"\r\n              @touchcancel=\"createImg\"\r\n              @mousedown=\"imgStartMove\"\r\n              @mousemove=\"imgMove\"\r\n              @mouseup=\"createImg\"\r\n              @mouseout=\"createImg\"\r\n              ref=\"img\">\r\n            <div class=\"vicp-img-shade vicp-img-shade-1\" :style=\"sourceImgShadeStyle\"></div>\r\n            <div class=\"vicp-img-shade vicp-img-shade-2\" :style=\"sourceImgShadeStyle\"></div>\r\n          </div>\r\n\r\n          <div class=\"vicp-range\">\r\n            <input type=\"range\" :value=\"scale.range\" step=\"1\" min=\"0\" max=\"100\" @input=\"zoomChange\">\r\n            <i @mousedown=\"startZoomSub\" @mouseout=\"endZoomSub\" @mouseup=\"endZoomSub\" class=\"vicp-icon5\"></i>\r\n            <i @mousedown=\"startZoomAdd\" @mouseout=\"endZoomAdd\" @mouseup=\"endZoomAdd\" class=\"vicp-icon6\"></i>\r\n          </div>\r\n\r\n          <div class=\"vicp-rotate\" v-if=\"!noRotate\">\r\n            <i @mousedown=\"startRotateLeft\" @mouseout=\"endRotate\" @mouseup=\"endRotate\">↺</i>\r\n            <i @mousedown=\"startRotateRight\" @mouseout=\"endRotate\" @mouseup=\"endRotate\">↻</i>\r\n          </div>\r\n        </div>\r\n        <div class=\"vicp-crop-right\" v-show=\"true\">\r\n          <div class=\"vicp-preview\">\r\n            <div class=\"vicp-preview-item\" v-if=\"!noSquare\">\r\n              <img :src=\"createImgUrl\" :style=\"previewStyle\">\r\n              <span>{{ lang.preview }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"vicp-operate\">\r\n        <a @click=\"setStep(1)\" @mousedown=\"ripple\">{{ lang.btn.back }}</a>\r\n        <a class=\"vicp-operate-btn\" @click=\"prepareUpload\" @mousedown=\"ripple\">{{ lang.btn.save }}</a>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"vicp-step3\" v-if=\"step == 3\">\r\n      <div class=\"vicp-upload\">\r\n        <span class=\"vicp-loading\" v-show=\"loading === 1\">{{ lang.loading }}</span>\r\n        <div class=\"vicp-progress-wrap\">\r\n          <span class=\"vicp-progress\" v-show=\"loading === 1\" :style=\"progressStyle\"></span>\r\n        </div>\r\n        <div class=\"vicp-error\" v-show=\"hasError\">\r\n          <i class=\"vicp-icon2\"></i> {{ errorMsg }}\r\n        </div>\r\n        <div class=\"vicp-success\" v-show=\"loading === 2\">\r\n          <i class=\"vicp-icon3\"></i> {{ lang.success }}\r\n        </div>\r\n      </div>\r\n      <div class=\"vicp-operate\">\r\n        <a @click=\"setStep(2)\" @mousedown=\"ripple\">{{ lang.btn.back }}</a>\r\n        <a @click=\"off\" @mousedown=\"ripple\">{{ lang.btn.close }}</a>\r\n      </div>\r\n    </div>\r\n    <canvas v-show=\"false\" :width=\"width\" :height=\"height\" ref=\"canvas\" style=\"width: 370px; height: 150px\" ></canvas>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n /* eslint-disable */\r\n'use strict'\r\nimport fetch from '@/api/fetch'\r\nimport language from './utils/language.js'\r\nimport mimes from './utils/mimes.js'\r\nimport data2blob from './utils/data2blob.js'\r\nimport effectRipple from './utils/effectRipple.js'\r\nexport default {\r\n  props: {\r\n    // 域，上传文件name，触发事件会带上（如果一个页面多个图片上传控件，可以做区分\r\n    field: {\r\n      type: String,\r\n      'default': 'avatar'\r\n    },\r\n    // 原名key，类似于id，触发事件会带上（如果一个页面多个图片上传控件，可以做区分\r\n    ki: {\r\n      'default': 0\r\n    },\r\n    // 显示该控件与否\r\n    value: {\r\n      'default': true\r\n    },\r\n    // 上传地址\r\n    url: {\r\n      type: String,\r\n      'default': ''\r\n    },\r\n    // 其他要上传文件附带的数据，对象格式\r\n    params: {\r\n      type: Object,\r\n      'default': null\r\n    },\r\n    // Add custom headers\r\n    headers: {\r\n      type: Object,\r\n      'default': null\r\n    },\r\n    // 剪裁图片的宽\r\n    width: {\r\n      type: Number,\r\n      // default: 370\r\n      default: 740\r\n    },\r\n    // 剪裁图片的高\r\n    height: {\r\n      type: Number,\r\n      // default: 150\r\n      default: 400\r\n    },\r\n    // 不显示旋转功能\r\n    noRotate: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    // 不预览圆形图片\r\n    noCircle: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    // 不预览方形图片\r\n    noSquare: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    // 单文件大小限制\r\n    maxSize: {\r\n      type: Number,\r\n      'default': 1024000\r\n    },\r\n    // 语言类型\r\n    langType: {\r\n      type: String,\r\n      'default': 'zh'\r\n    },\r\n    // 语言包\r\n    langExt: {\r\n      type: Object,\r\n      'default': null\r\n    },\r\n    // 图片上传格式\r\n    imgFormat: {\r\n      type: String,\r\n      'default': 'png'\r\n    },\r\n    // 是否支持跨域\r\n    withCredentials: {\r\n      type: Boolean,\r\n      'default': false\r\n    }\r\n  },\r\n  data() {\r\n    const that = this\r\n    const {\r\n      imgFormat,\r\n      langType,\r\n      langExt,\r\n      width,\r\n      height\r\n    } = that\r\n    let isSupported = true\r\n    const allowImgFormat = [\r\n      'jpg',\r\n      'png'\r\n    ]\r\n    const tempImgFormat = allowImgFormat.indexOf(imgFormat) === -1 ? 'jpg' : imgFormat\r\n    const lang = language[langType] ? language[langType] : language['en']\r\n    const mime = mimes[tempImgFormat]\r\n    // 规范图片格式\r\n    that.imgFormat = tempImgFormat\r\n    if (langExt) {\r\n      Object.assign(lang, langExt)\r\n    }\r\n    if (typeof FormData !== 'function') {\r\n      isSupported = false\r\n    }\r\n    return {\r\n      // 图片的mime\r\n      mime,\r\n      // 语言包\r\n      lang,\r\n      // 浏览器是否支持该控件\r\n      isSupported,\r\n      // 浏览器是否支持触屏事件\r\n      isSupportTouch: document.hasOwnProperty('ontouchstart'),\r\n      // 步骤\r\n      step: 1, // 1选择文件 2剪裁 3上传\r\n      // 上传状态及进度\r\n      loading: 0, // 0未开始 1正在 2成功 3错误\r\n      progress: 0,\r\n      // 是否有错误及错误信息\r\n      hasError: false,\r\n      errorMsg: '',\r\n      // 需求图宽高比\r\n      ratio: width / height,\r\n      // 原图地址、生成图片地址\r\n      sourceImg: null,\r\n      sourceImgUrl: '',\r\n      createImgUrl: '',\r\n      // 原图片拖动事件初始值\r\n      sourceImgMouseDown: {\r\n        on: false,\r\n        mX: 0, // 鼠标按下的坐标\r\n        mY: 0,\r\n        x: 0, // scale原图坐标\r\n        y: 0\r\n      },\r\n      // 生成图片预览的容器大小\r\n      previewContainer: {\r\n        width: 300,\r\n        height: 120\r\n      },\r\n      // 原图容器宽高\r\n      sourceImgContainer: { // sic\r\n        width: 240,\r\n        height: 184 // 如果生成图比例与此一致会出现bug，先改成特殊的格式吧，哈哈哈\r\n      },\r\n      // 原图展示属性\r\n      scale: {\r\n        zoomAddOn: false, // 按钮缩放事件开启\r\n        zoomSubOn: false, // 按钮缩放事件开启\r\n        range: 1, // 最大100\r\n        rotateLeft: false, // 按钮向左旋转事件开启\r\n        rotateRight: false, // 按钮向右旋转事件开启\r\n        degree: 0, // 旋转度数\r\n        x: 0,\r\n        y: 0,\r\n        width: 0,\r\n        height: 0,\r\n        maxWidth: 0,\r\n        maxHeight: 0,\r\n        minWidth: 0, // 最宽\r\n        minHeight: 0,\r\n        naturalWidth: 0, // 原宽\r\n        naturalHeight: 0\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    // 进度条样式\r\n    progressStyle() {\r\n      const {\r\n        progress\r\n      } = this\r\n      return {\r\n        width: progress + '%'\r\n      }\r\n    },\r\n    // 原图样式\r\n    sourceImgStyle() {\r\n      const {\r\n        scale,\r\n        sourceImgMasking\r\n      } = this\r\n      const top = scale.y + sourceImgMasking.y + 'px'\r\n      const left = scale.x + sourceImgMasking.x + 'px'\r\n      return {\r\n        top,\r\n        left,\r\n        width: scale.width + 'px',\r\n        height: scale.height + 'px',\r\n        transform: 'rotate(' + scale.degree + 'deg)', // 旋转时 左侧原始图旋转样式\r\n        '-ms-transform': 'rotate(' + scale.degree + 'deg)', // 兼容IE9\r\n        '-moz-transform': 'rotate(' + scale.degree + 'deg)', // 兼容FireFox\r\n        '-webkit-transform': 'rotate(' + scale.degree + 'deg)', // 兼容Safari 和 chrome\r\n        '-o-transform': 'rotate(' + scale.degree + 'deg)' // 兼容 Opera\r\n      }\r\n    },\r\n    // 原图蒙版属性\r\n    sourceImgMasking() {\r\n      const {\r\n        width,\r\n        height,\r\n        ratio,\r\n        sourceImgContainer\r\n      } = this\r\n      const sic = sourceImgContainer\r\n      const sicRatio = sic.width / sic.height // 原图容器宽高比\r\n      let x = 0\r\n      let y = 0\r\n      let w = sic.width\r\n      let h = sic.height\r\n      let scale = 1\r\n      if (ratio < sicRatio) {\r\n        scale = sic.height / height\r\n        w = sic.height * ratio\r\n        x = (sic.width - w) / 2\r\n      }\r\n      if (ratio > sicRatio) {\r\n        scale = sic.width / width\r\n        h = sic.width / ratio\r\n        y = (sic.height - h) / 2\r\n      }\r\n      return {\r\n        scale, // 蒙版相对需求宽高的缩放\r\n        x,\r\n        y,\r\n        width: w,\r\n        height: h\r\n      }\r\n    },\r\n    // 原图遮罩样式\r\n    sourceImgShadeStyle() {\r\n      const {\r\n        sourceImgMasking,\r\n        sourceImgContainer\r\n      } = this\r\n      const sic = sourceImgContainer\r\n      const sim = sourceImgMasking\r\n      const w = sim.width == sic.width ? sim.width : (sic.width - sim.width) / 2\r\n      const h = sim.height == sic.height ? sim.height : (sic.height - sim.height) / 2\r\n      return {\r\n        width: w + 'px',\r\n        height: h + 'px'\r\n      }\r\n    },\r\n    previewStyle() {\r\n      const {\r\n        width,\r\n        height,\r\n        ratio,\r\n        previewContainer\r\n      } = this\r\n      const pc = previewContainer\r\n      let w = pc.width\r\n      let h = pc.height\r\n      const pcRatio = w / h\r\n      if (ratio < pcRatio) {\r\n        w = pc.height * ratio\r\n      }\r\n      if (ratio > pcRatio) {\r\n        h = pc.width / ratio\r\n      }\r\n      return {\r\n        width: w + 'px',\r\n        height: h + 'px'\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    value(newValue) {\r\n      if (newValue && this.loading != 1) {\r\n        this.reset()\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 点击波纹效果\r\n    ripple(e) {\r\n      effectRipple(e)\r\n    },\r\n    // 关闭控件\r\n    off() {\r\n      setTimeout(() => {\r\n        this.$emit('input', false)\r\n        this.$emit('close')\r\n        if (this.step == 3 && this.loading == 2) {\r\n          this.setStep(1)\r\n        }\r\n      }, 200)\r\n    },\r\n    // 设置步骤\r\n    setStep(no) {\r\n      // 延时是为了显示动画效果呢，哈哈哈\r\n      setTimeout(() => {\r\n        this.step = no\r\n      }, 200)\r\n    },\r\n    /* 图片选择区域函数绑定\r\n     ---------------------------------------------------------------*/\r\n    preventDefault(e) {\r\n      e.preventDefault()\r\n      return false\r\n    },\r\n    handleClick(e) {\r\n      if (this.loading !== 1) {\r\n        if (e.target !== this.$refs.fileinput) {\r\n          e.preventDefault()\r\n          if (document.activeElement !== this.$refs) {\r\n            this.$refs.fileinput.click()\r\n          }\r\n        }\r\n      }\r\n    },\r\n    handleChange(e) {\r\n      e.preventDefault()\r\n      if (this.loading !== 1) {\r\n        const files = e.target.files || e.dataTransfer.files\r\n        this.reset()\r\n        if (this.checkFile(files[0])) {\r\n          this.setSourceImg(files[0])\r\n        }\r\n      }\r\n    },\r\n    /* ---------------------------------------------------------------*/\r\n    // 检测选择的文件是否合适\r\n    checkFile(file) {\r\n      let that = this,\r\n        {\r\n          lang,\r\n          maxSize\r\n        } = that\r\n      // 仅限图片\r\n      if (file.type.indexOf('image') === -1) {\r\n        that.hasError = true\r\n        that.errorMsg = lang.error.onlyImg\r\n        return false\r\n      }\r\n      // 超出大小\r\n      if (file.size / 1024 > maxSize) {\r\n        that.hasError = true\r\n        that.errorMsg = lang.error.outOfSize + maxSize + 'kb'\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    // 重置控件\r\n    reset() {\r\n      const that = this\r\n      that.loading = 0\r\n      that.hasError = false\r\n      that.errorMsg = ''\r\n      that.progress = 0\r\n    },\r\n    // 设置图片源\r\n    setSourceImg(file) {\r\n      let that = this,\r\n        fr = new FileReader()\r\n      fr.onload = function(e) {\r\n        that.sourceImgUrl = fr.result\r\n        that.startCrop()\r\n      }\r\n      fr.readAsDataURL(file)\r\n    },\r\n    // 剪裁前准备工作\r\n    startCrop() {\r\n      let that = this,\r\n        {\r\n          width,\r\n          height,\r\n          ratio,\r\n          scale,\r\n          sourceImgUrl,\r\n          sourceImgMasking,\r\n          lang\r\n        } = that,\r\n        sim = sourceImgMasking,\r\n        img = new Image()\r\n      img.src = sourceImgUrl\r\n      img.onload = function() {\r\n        let nWidth = img.naturalWidth,\r\n          nHeight = img.naturalHeight,\r\n          nRatio = nWidth / nHeight,\r\n          w = sim.width,\r\n          h = sim.height,\r\n          x = 0,\r\n          y = 0\r\n        // 图片像素不达标\r\n        if (nWidth < width || nHeight < height) {\r\n          that.hasError = true\r\n          that.errorMsg = lang.error.lowestPx + width + '*' + height\r\n          return false\r\n        }\r\n        if (ratio > nRatio) {\r\n          h = w / nRatio\r\n          y = (sim.height - h) / 2\r\n        }\r\n        if (ratio < nRatio) {\r\n          w = h * nRatio\r\n          x = (sim.width - w) / 2\r\n        }\r\n        scale.range = 0\r\n        scale.x = x\r\n        scale.y = y\r\n        scale.width = w\r\n        scale.height = h\r\n        scale.degree = 0\r\n        scale.minWidth = w\r\n        scale.minHeight = h\r\n        scale.maxWidth = nWidth * sim.scale\r\n        scale.maxHeight = nHeight * sim.scale\r\n        scale.naturalWidth = nWidth\r\n        scale.naturalHeight = nHeight\r\n        that.sourceImg = img\r\n        that.createImg()\r\n        that.setStep(2)\r\n      }\r\n    },\r\n    // 鼠标按下图片准备移动\r\n    imgStartMove(e) {\r\n      e.preventDefault()\r\n      // 支持触摸事件，则鼠标事件无效\r\n      if (this.isSupportTouch && !e.targetTouches) {\r\n        return false\r\n      }\r\n      let et = e.targetTouches ? e.targetTouches[0] : e,\r\n        {\r\n          sourceImgMouseDown,\r\n          scale\r\n        } = this,\r\n        simd = sourceImgMouseDown\r\n      simd.mX = et.screenX\r\n      simd.mY = et.screenY\r\n      simd.x = scale.x\r\n      simd.y = scale.y\r\n      simd.on = true\r\n    },\r\n    // 鼠标按下状态下移动，图片移动\r\n    imgMove(e) {\r\n      e.preventDefault()\r\n      // 支持触摸事件，则鼠标事件无效\r\n      if (this.isSupportTouch && !e.targetTouches) {\r\n        return false\r\n      }\r\n      let et = e.targetTouches ? e.targetTouches[0] : e,\r\n        {\r\n          sourceImgMouseDown: {\r\n            on,\r\n            mX,\r\n            mY,\r\n            x,\r\n            y\r\n          },\r\n          scale,\r\n          sourceImgMasking\r\n        } = this,\r\n        sim = sourceImgMasking,\r\n        nX = et.screenX,\r\n        nY = et.screenY,\r\n        dX = nX - mX,\r\n        dY = nY - mY,\r\n        rX = x + dX,\r\n        rY = y + dY\r\n      if (!on) return\r\n      if (rX > 0) {\r\n        rX = 0\r\n      }\r\n      if (rY > 0) {\r\n        rY = 0\r\n      }\r\n      if (rX < sim.width - scale.width) {\r\n        rX = sim.width - scale.width\r\n      }\r\n      if (rY < sim.height - scale.height) {\r\n        rY = sim.height - scale.height\r\n      }\r\n      scale.x = rX\r\n      scale.y = rY\r\n    },\r\n     // 按钮按下开始向右旋转\r\n    startRotateRight(e) {\r\n      let that = this,\r\n        {\r\n          scale\r\n        } = that\r\n      scale.rotateRight = true\r\n      function rotate() {\r\n        if (scale.rotateRight) {\r\n          const degree = ++scale.degree\r\n          that.createImg(degree)\r\n          setTimeout(function() {\r\n            rotate()\r\n          }, 60)\r\n        }\r\n      }\r\n      rotate()\r\n    },\r\n    // 按钮按下开始向右旋转\r\n    startRotateLeft(e) {\r\n      let that = this,\r\n        {\r\n          scale\r\n        } = that\r\n      scale.rotateLeft = true\r\n      function rotate() {\r\n        if (scale.rotateLeft) {\r\n          const degree = --scale.degree\r\n          that.createImg(degree)\r\n          setTimeout(function() {\r\n            rotate()\r\n          }, 60)\r\n        }\r\n      }\r\n      rotate()\r\n    },\r\n    // 停止旋转\r\n    endRotate() {\r\n      const {\r\n        scale\r\n      } = this\r\n      scale.rotateLeft = false\r\n      scale.rotateRight = false\r\n    },\r\n    // 按钮按下开始放大\r\n    startZoomAdd(e) {\r\n      let that = this,\r\n        {\r\n          scale\r\n        } = that\r\n      scale.zoomAddOn = true\r\n      function zoom() {\r\n        if (scale.zoomAddOn) {\r\n          const range = scale.range >= 100 ? 100 : ++scale.range\r\n          that.zoomImg(range)\r\n          setTimeout(function() {\r\n            zoom()\r\n          }, 60)\r\n        }\r\n      }\r\n      zoom()\r\n    },\r\n    // 按钮松开或移开取消放大\r\n    endZoomAdd(e) {\r\n      this.scale.zoomAddOn = false\r\n    },\r\n    // 按钮按下开始缩小\r\n    startZoomSub(e) {\r\n      let that = this,\r\n        {\r\n          scale\r\n        } = that\r\n      scale.zoomSubOn = true\r\n      function zoom() {\r\n        if (scale.zoomSubOn) {\r\n          const range = scale.range <= 0 ? 0 : --scale.range\r\n          that.zoomImg(range)\r\n          setTimeout(function() {\r\n            zoom()\r\n          }, 60)\r\n        }\r\n      }\r\n      zoom()\r\n    },\r\n    // 按钮松开或移开取消缩小\r\n    endZoomSub(e) {\r\n      const {\r\n        scale\r\n      } = this\r\n      scale.zoomSubOn = false\r\n    },\r\n    zoomChange(e) {\r\n      this.zoomImg(e.target.value)\r\n    },\r\n    // 缩放原图\r\n    zoomImg(newRange) {\r\n      const that = this\r\n      const {\r\n        sourceImgMasking,\r\n        sourceImgMouseDown,\r\n        scale\r\n      } = this\r\n      const {\r\n        maxWidth,\r\n        maxHeight,\r\n        minWidth,\r\n        minHeight,\r\n        width,\r\n        height,\r\n        x,\r\n        y,\r\n        range\r\n      } = scale\r\n      const sim = sourceImgMasking\r\n      // 蒙版宽高\r\n      const sWidth = sim.width\r\n      const sHeight = sim.height\r\n      // 新宽高\r\n      const nWidth = minWidth + (maxWidth - minWidth) * newRange / 100\r\n      const nHeight = minHeight + (maxHeight - minHeight) * newRange / 100\r\n      // 新坐标（根据蒙版中心点缩放）\r\n      let nX = sWidth / 2 - (nWidth / width) * (sWidth / 2 - x)\r\n      let nY = sHeight / 2 - (nHeight / height) * (sHeight / 2 - y)\r\n      // 判断新坐标是否超过蒙版限制\r\n      if (nX > 0) {\r\n        nX = 0\r\n      }\r\n      if (nY > 0) {\r\n        nY = 0\r\n      }\r\n      if (nX < sWidth - nWidth) {\r\n        nX = sWidth - nWidth\r\n      }\r\n      if (nY < sHeight - nHeight) {\r\n        nY = sHeight - nHeight\r\n      }\r\n      // 赋值处理\r\n      scale.x = nX\r\n      scale.y = nY\r\n      scale.width = nWidth\r\n      scale.height = nHeight\r\n      scale.range = newRange\r\n      setTimeout(function() {\r\n        if (scale.range == newRange) {\r\n          that.createImg()\r\n        }\r\n      }, 300)\r\n    },\r\n     // 生成需求图片\r\n    createImg(e) {\r\n      let that = this,\r\n        {\r\n          mime,\r\n          sourceImg,\r\n          scale: {\r\n            x,\r\n            y,\r\n            width,\r\n            height,\r\n            degree\r\n          },\r\n          sourceImgMasking: {\r\n            scale\r\n          }\r\n        } = that,\r\n        canvas = that.$refs.canvas,\r\n        ctx = canvas.getContext('2d')\r\n      if (e) {\r\n        // 取消鼠标按下移动状态\r\n        that.sourceImgMouseDown.on = false\r\n      }\r\n      canvas.width = that.width\r\n      canvas.height = that.height\r\n      ctx.clearRect(0, 0, that.width, that.height)\r\n      // 将透明区域设置为白色底边\r\n      ctx.fillStyle = '#fff'\r\n      ctx.fillRect(0, 0, that.width, that.height)\r\n      ctx.translate(that.width * 0.5, that.height * 0.5)\r\n      ctx.rotate(Math.PI * degree / 180)\r\n      ctx.translate(-that.width * 0.5, -that.height * 0.5)\r\n\r\n\r\n      ctx.drawImage(sourceImg, x / scale, y / scale, width / scale, height / scale)\r\n      that.createImgUrl = canvas.toDataURL(mime)\r\n    },\r\n    prepareUpload() {\r\n      const {\r\n        url,\r\n        createImgUrl,\r\n        field,\r\n        ki\r\n      } = this\r\n      this.$emit('crop-success', createImgUrl, field, ki)\r\n      if (typeof url === 'string' && url) {\r\n        this.upload()\r\n      } else {\r\n        this.off()\r\n      }\r\n    },\r\n    // 上传图片\r\n    upload() {\r\n      let that = this,\r\n        {\r\n          lang,\r\n          imgFormat,\r\n          mime,\r\n          url,\r\n          params,\r\n          headers,\r\n          field,\r\n          ki,\r\n          createImgUrl,\r\n          withCredentials\r\n        } = this,\r\n        fmData = new FormData()\r\n      fmData.append(field, data2blob(createImgUrl, mime), field + '.' + imgFormat)\r\n      // 添加其他参数\r\n      if (typeof params === 'object' && params) {\r\n        Object.keys(params).forEach((k) => {\r\n          fmData.append(k, params[k])\r\n        })\r\n      }\r\n      // 监听进度回调\r\n      const uploadProgress = function(event) {\r\n        if (event.lengthComputable) {\r\n          that.progress = 100 * Math.round(event.loaded) / event.total\r\n        }\r\n      }\r\n      // 上传文件\r\n      that.reset()\r\n      that.loading = 1\r\n      that.setStep(3)\r\n      fetch({\r\n        url,\r\n        method: 'post',\r\n        data: fmData\r\n      }).then(resData => {\r\n        that.loading = 2\r\n        that.$emit('crop-upload-success', resData.data)\r\n        // 返还数据\r\n        // console.log(resData.data[0])\r\n      }).catch(err => {\r\n        if (that.value) {\r\n          that.loading = 3\r\n          that.hasError = true\r\n          that.errorMsg = lang.fail\r\n          that.$emit('crop-upload-fail', err, field, ki)\r\n        }\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    // 绑定按键esc隐藏此插件事件\r\n    document.addEventListener('keyup', (e) => {\r\n      if (this.value && (e.key == 'Escape' || e.keyCode == 27)) {\r\n        this.off()\r\n      }\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<!--\r\n<style lang='sass' src=\"./scss/upload.scss\">\r\n</style> -->\r\n\r\n<style>\r\n@charset \"UTF-8\";\r\n@-webkit-keyframes vicp_progress {\r\n  0% {\r\n    background-position-y: 0; }\r\n  100% {\r\n    background-position-y: 40px; } }\r\n@keyframes vicp_progress {\r\n  0% {\r\n    background-position-y: 0; }\r\n  100% {\r\n    background-position-y: 40px; } }\r\n@-webkit-keyframes vicp {\r\n  0% {\r\n    opacity: 0;\r\n    -webkit-transform: scale(0) translatey(-60px);\r\n            transform: scale(0) translatey(-60px); }\r\n  100% {\r\n    opacity: 1;\r\n    -webkit-transform: scale(1) translatey(0);\r\n            transform: scale(1) translatey(0); } }\r\n@keyframes vicp {\r\n  0% {\r\n    opacity: 0;\r\n    -webkit-transform: scale(0) translatey(-60px);\r\n            transform: scale(0) translatey(-60px); }\r\n  100% {\r\n    opacity: 1;\r\n    -webkit-transform: scale(1) translatey(0);\r\n            transform: scale(1) translatey(0); } }\r\n.vue-image-crop-upload {\r\n  position: fixed;\r\n  display: block;\r\n  -webkit-box-sizing: border-box;\r\n          box-sizing: border-box;\r\n  z-index: 10000;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.65);\r\n  -webkit-tap-highlight-color: transparent;\r\n  -moz-tap-highlight-color: transparent; }\r\n  .vue-image-crop-upload .vicp-wrap {\r\n    -webkit-box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n    position: fixed;\r\n    display: block;\r\n    -webkit-box-sizing: border-box;\r\n            box-sizing: border-box;\r\n    z-index: 10000;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    margin: auto;\r\n    width: 600px;\r\n    height: 330px;\r\n    padding: 25px;\r\n    background-color: #fff;\r\n    border-radius: 2px;\r\n    -webkit-animation: vicp 0.12s ease-in;\r\n            animation: vicp 0.12s ease-in; }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-close {\r\n      position: absolute;\r\n      right: -30px;\r\n      top: -30px; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4 {\r\n        position: relative;\r\n        display: block;\r\n        width: 30px;\r\n        height: 30px;\r\n        cursor: pointer;\r\n        -webkit-transition: -webkit-transform 0.18s;\r\n        transition: -webkit-transform 0.18s;\r\n        transition: transform 0.18s;\r\n        transition: transform 0.18s, -webkit-transform 0.18s;\r\n        -webkit-transform: rotate(0);\r\n            -ms-transform: rotate(0);\r\n                transform: rotate(0); }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4::after, .vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4::before {\r\n          -webkit-box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n                  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n          content: '';\r\n          position: absolute;\r\n          top: 12px;\r\n          left: 4px;\r\n          width: 20px;\r\n          height: 3px;\r\n          -webkit-transform: rotate(45deg);\r\n              -ms-transform: rotate(45deg);\r\n                  transform: rotate(45deg);\r\n          background-color: #fff; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4::after {\r\n          -webkit-transform: rotate(-45deg);\r\n              -ms-transform: rotate(-45deg);\r\n                  transform: rotate(-45deg); }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4:hover {\r\n          -webkit-transform: rotate(90deg);\r\n              -ms-transform: rotate(90deg);\r\n                  transform: rotate(90deg); }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area {\r\n      position: relative;\r\n      -webkit-box-sizing: border-box;\r\n              box-sizing: border-box;\r\n      padding: 35px;\r\n      height: 170px;\r\n      background-color: rgba(0, 0, 0, 0.03);\r\n      text-align: center;\r\n      border: 1px dashed rgba(0, 0, 0, 0.08);\r\n      overflow: hidden; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-icon1 {\r\n        display: block;\r\n        margin: 0 auto 6px;\r\n        width: 42px;\r\n        height: 42px;\r\n        overflow: hidden; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-icon1 .vicp-icon1-arrow {\r\n          display: block;\r\n          margin: 0 auto;\r\n          width: 0;\r\n          height: 0;\r\n          border-bottom: 14.7px solid rgba(0, 0, 0, 0.3);\r\n          border-left: 14.7px solid transparent;\r\n          border-right: 14.7px solid transparent; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-icon1 .vicp-icon1-body {\r\n          display: block;\r\n          width: 12.6px;\r\n          height: 14.7px;\r\n          margin: 0 auto;\r\n          background-color: rgba(0, 0, 0, 0.3); }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-icon1 .vicp-icon1-bottom {\r\n          -webkit-box-sizing: border-box;\r\n                  box-sizing: border-box;\r\n          display: block;\r\n          height: 12.6px;\r\n          border: 6px solid rgba(0, 0, 0, 0.3);\r\n          border-top: none; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-hint {\r\n        display: block;\r\n        padding: 15px;\r\n        font-size: 14px;\r\n        color: #666;\r\n        line-height: 30px; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-no-supported-hint {\r\n        display: block;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        padding: 30px;\r\n        width: 100%;\r\n        height: 60px;\r\n        line-height: 30px;\r\n        background-color: #eee;\r\n        text-align: center;\r\n        color: #666;\r\n        font-size: 14px; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area:hover {\r\n        cursor: pointer;\r\n        border-color: rgba(0, 0, 0, 0.1);\r\n        background-color: rgba(0, 0, 0, 0.05); }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop {\r\n      overflow: hidden; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left {\r\n        float: left; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container {\r\n          position: relative;\r\n          display: block;\r\n          width: 240px;\r\n          height: 180px;\r\n          background-color: #e5e5e0;\r\n          overflow: hidden; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container .vicp-img {\r\n            position: absolute;\r\n            display: block;\r\n            cursor: move;\r\n            -webkit-user-select: none;\r\n               -moz-user-select: none;\r\n                -ms-user-select: none;\r\n                    user-select: none; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container .vicp-img-shade {\r\n            -webkit-box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\r\n                    box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\r\n            position: absolute;\r\n            background-color: rgba(241, 242, 243, 0.8); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container .vicp-img-shade.vicp-img-shade-1 {\r\n              top: 0;\r\n              left: 0; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container .vicp-img-shade.vicp-img-shade-2 {\r\n              bottom: 0;\r\n              right: 0; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-rotate {\r\n          position: relative;\r\n          width: 240px;\r\n          height: 18px; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-rotate i {\r\n            display: block;\r\n            width: 18px;\r\n            height: 18px;\r\n            border-radius: 100%;\r\n            line-height: 18px;\r\n            text-align: center;\r\n            font-size: 12px;\r\n            font-weight: bold;\r\n            background-color: rgba(0, 0, 0, 0.08);\r\n            color: #fff;\r\n            overflow: hidden; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-rotate i:hover {\r\n              -webkit-box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n                      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n              cursor: pointer;\r\n              background-color: rgba(0, 0, 0, 0.14); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-rotate i:first-child {\r\n              float: left; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-rotate i:last-child {\r\n              float: right; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range {\r\n          position: relative;\r\n          margin: 30px 0 10px 0;\r\n          width: 240px;\r\n          height: 18px; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon5,\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6 {\r\n            position: absolute;\r\n            top: 0;\r\n            width: 18px;\r\n            height: 18px;\r\n            border-radius: 100%;\r\n            background-color: rgba(0, 0, 0, 0.08); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon5:hover,\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6:hover {\r\n              -webkit-box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n                      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n              cursor: pointer;\r\n              background-color: rgba(0, 0, 0, 0.14); }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon5 {\r\n            left: 0; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon5::before {\r\n              position: absolute;\r\n              content: '';\r\n              display: block;\r\n              left: 3px;\r\n              top: 8px;\r\n              width: 12px;\r\n              height: 2px;\r\n              background-color: #fff; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6 {\r\n            right: 0; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6::before {\r\n              position: absolute;\r\n              content: '';\r\n              display: block;\r\n              left: 3px;\r\n              top: 8px;\r\n              width: 12px;\r\n              height: 2px;\r\n              background-color: #fff; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6::after {\r\n              position: absolute;\r\n              content: '';\r\n              display: block;\r\n              top: 3px;\r\n              left: 8px;\r\n              width: 2px;\r\n              height: 12px;\r\n              background-color: #fff; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range] {\r\n            display: block;\r\n            padding-top: 5px;\r\n            margin: 0 auto;\r\n            width: 180px;\r\n            height: 8px;\r\n            vertical-align: top;\r\n            background: transparent;\r\n            -webkit-appearance: none;\r\n               -moz-appearance: none;\r\n                    appearance: none;\r\n            cursor: pointer;\r\n            /* 滑块\r\n               ---------------------------------------------------------------*/\r\n            /* 轨道\r\n               ---------------------------------------------------------------*/ }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus {\r\n              outline: none; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-webkit-slider-thumb {\r\n              -webkit-box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\r\n                      box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\r\n              -webkit-appearance: none;\r\n                      appearance: none;\r\n              margin-top: -3px;\r\n              width: 12px;\r\n              height: 12px;\r\n              background-color: #61c091;\r\n              border-radius: 100%;\r\n              border: none;\r\n              -webkit-transition: 0.2s;\r\n              transition: 0.2s; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-moz-range-thumb {\r\n              box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\r\n              -moz-appearance: none;\r\n                   appearance: none;\r\n              width: 12px;\r\n              height: 12px;\r\n              background-color: #61c091;\r\n              border-radius: 100%;\r\n              border: none;\r\n              -webkit-transition: 0.2s;\r\n              transition: 0.2s; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-ms-thumb {\r\n              box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\r\n              appearance: none;\r\n              width: 12px;\r\n              height: 12px;\r\n              background-color: #61c091;\r\n              border: none;\r\n              border-radius: 100%;\r\n              -webkit-transition: 0.2s;\r\n              transition: 0.2s; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:active::-moz-range-thumb {\r\n              box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n              width: 14px;\r\n              height: 14px; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:active::-ms-thumb {\r\n              box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n              width: 14px;\r\n              height: 14px; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:active::-webkit-slider-thumb {\r\n              -webkit-box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n                      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n              margin-top: -4px;\r\n              width: 14px;\r\n              height: 14px; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-webkit-slider-runnable-track {\r\n              -webkit-box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n                      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n              width: 100%;\r\n              height: 6px;\r\n              cursor: pointer;\r\n              border-radius: 2px;\r\n              border: none;\r\n              background-color: rgba(68, 170, 119, 0.3); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-moz-range-track {\r\n              box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n              width: 100%;\r\n              height: 6px;\r\n              cursor: pointer;\r\n              border-radius: 2px;\r\n              border: none;\r\n              background-color: rgba(68, 170, 119, 0.3); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-ms-track {\r\n              box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n              width: 100%;\r\n              cursor: pointer;\r\n              background: transparent;\r\n              border-color: transparent;\r\n              color: transparent;\r\n              height: 6px;\r\n              border-radius: 2px;\r\n              border: none; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-ms-fill-lower {\r\n              background-color: rgba(68, 170, 119, 0.3); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-ms-fill-upper {\r\n              background-color: rgba(68, 170, 119, 0.15); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus::-webkit-slider-runnable-track {\r\n              background-color: rgba(68, 170, 119, 0.5); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus::-moz-range-track {\r\n              background-color: rgba(68, 170, 119, 0.5); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus::-ms-fill-lower {\r\n              background-color: rgba(68, 170, 119, 0.45); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus::-ms-fill-upper {\r\n              background-color: rgba(68, 170, 119, 0.25); }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right {\r\n        float: right; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview {\r\n          margin-left: 15px;\r\n          height: 150px;\r\n          /* //overflow: hidden;  */\r\n        }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item {\r\n            position: relative;\r\n            padding: 5px;\r\n            width: 300px;\r\n            height: 120px;\r\n            float: left;\r\n            margin-right: 16px; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item span {\r\n              position: absolute;\r\n              bottom: -30px;\r\n              width: 100%;\r\n              font-size: 14px;\r\n              color: #bbb;\r\n              display: block;\r\n              text-align: center; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item img {\r\n              position: absolute;\r\n              display: block;\r\n              top: 0;\r\n              bottom: 0;\r\n              left: 0;\r\n              right: 0;\r\n              margin: auto;\r\n              padding: 3px;\r\n              background-color: #fff;\r\n              border: 1px solid rgba(0, 0, 0, 0.15);\r\n              overflow: hidden;\r\n              -webkit-user-select: none;\r\n                 -moz-user-select: none;\r\n                  -ms-user-select: none;\r\n                      user-select: none; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item.vicp-preview-item-circle {\r\n              margin-right: 0; }\r\n              .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item.vicp-preview-item-circle img {\r\n                border-radius: 100%; }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload {\r\n      position: relative;\r\n      -webkit-box-sizing: border-box;\r\n              box-sizing: border-box;\r\n      padding: 35px;\r\n      height: 170px;\r\n      background-color: rgba(0, 0, 0, 0.03);\r\n      text-align: center;\r\n      border: 1px dashed #ddd; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-loading {\r\n        display: block;\r\n        padding: 15px;\r\n        font-size: 16px;\r\n        color: #999;\r\n        line-height: 30px; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-progress-wrap {\r\n        margin-top: 12px;\r\n        background-color: rgba(0, 0, 0, 0.08);\r\n        border-radius: 3px; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-progress-wrap .vicp-progress {\r\n          position: relative;\r\n          display: block;\r\n          height: 5px;\r\n          border-radius: 3px;\r\n          background-color: #4a7;\r\n          -webkit-box-shadow: 0 2px 6px 0 rgba(68, 170, 119, 0.3);\r\n                  box-shadow: 0 2px 6px 0 rgba(68, 170, 119, 0.3);\r\n          -webkit-transition: width 0.15s linear;\r\n          transition: width 0.15s linear;\r\n          background-image: -webkit-linear-gradient(135deg, rgba(255, 255, 255, 0.2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.2) 75%, transparent 75%, transparent);\r\n          background-image: linear-gradient(-45deg, rgba(255, 255, 255, 0.2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.2) 75%, transparent 75%, transparent);\r\n          background-size: 40px 40px;\r\n          -webkit-animation: vicp_progress 0.5s linear infinite;\r\n                  animation: vicp_progress 0.5s linear infinite; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-progress-wrap .vicp-progress::after {\r\n            content: '';\r\n            position: absolute;\r\n            display: block;\r\n            top: -3px;\r\n            right: -3px;\r\n            width: 9px;\r\n            height: 9px;\r\n            border: 1px solid rgba(245, 246, 247, 0.7);\r\n            -webkit-box-shadow: 0 1px 4px 0 rgba(68, 170, 119, 0.7);\r\n                    box-shadow: 0 1px 4px 0 rgba(68, 170, 119, 0.7);\r\n            border-radius: 100%;\r\n            background-color: #4a7; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-error,\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-success {\r\n        height: 100px;\r\n        line-height: 100px; }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-operate {\r\n      position: absolute;\r\n      right: 20px;\r\n      bottom: 20px; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-operate a {\r\n        position: relative;\r\n        float: left;\r\n        display: block;\r\n        margin-left: 10px;\r\n        width: 100px;\r\n        height: 36px;\r\n        line-height: 36px;\r\n        text-align: center;\r\n        cursor: pointer;\r\n        font-size: 14px;\r\n        color: #4a7;\r\n        border-radius: 2px;\r\n        overflow: hidden;\r\n        -webkit-user-select: none;\r\n           -moz-user-select: none;\r\n            -ms-user-select: none;\r\n                user-select: none; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-operate a:hover {\r\n          background-color: rgba(0, 0, 0, 0.03); }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-error,\r\n    .vue-image-crop-upload .vicp-wrap .vicp-success {\r\n      display: block;\r\n      font-size: 14px;\r\n      line-height: 24px;\r\n      height: 24px;\r\n      color: #d10;\r\n      text-align: center;\r\n      vertical-align: top; }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-success {\r\n      color: #4a7; }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-icon3 {\r\n      position: relative;\r\n      display: inline-block;\r\n      width: 20px;\r\n      height: 20px;\r\n      top: 4px; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-icon3::after {\r\n        position: absolute;\r\n        top: 3px;\r\n        left: 6px;\r\n        width: 6px;\r\n        height: 10px;\r\n        border-width: 0 2px 2px 0;\r\n        border-color: #4a7;\r\n        border-style: solid;\r\n        -webkit-transform: rotate(45deg);\r\n            -ms-transform: rotate(45deg);\r\n                transform: rotate(45deg);\r\n        content: ''; }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-icon2 {\r\n      position: relative;\r\n      display: inline-block;\r\n      width: 20px;\r\n      height: 20px;\r\n      top: 4px; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-icon2::after, .vue-image-crop-upload .vicp-wrap .vicp-icon2::before {\r\n        content: '';\r\n        position: absolute;\r\n        top: 9px;\r\n        left: 4px;\r\n        width: 13px;\r\n        height: 2px;\r\n        background-color: #d10;\r\n        -webkit-transform: rotate(45deg);\r\n            -ms-transform: rotate(45deg);\r\n                transform: rotate(45deg); }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-icon2::after {\r\n        -webkit-transform: rotate(-45deg);\r\n            -ms-transform: rotate(-45deg);\r\n                transform: rotate(-45deg); }\r\n.e-ripple {\r\n  position: absolute;\r\n  border-radius: 100%;\r\n  background-color: rgba(0, 0, 0, 0.15);\r\n  background-clip: padding-box;\r\n  pointer-events: none;\r\n  -webkit-user-select: none;\r\n     -moz-user-select: none;\r\n      -ms-user-select: none;\r\n          user-select: none;\r\n  -webkit-transform: scale(0);\r\n      -ms-transform: scale(0);\r\n          transform: scale(0);\r\n  opacity: 1; }\r\n  .e-ripple.z-active {\r\n    opacity: 0;\r\n    -webkit-transform: scale(2);\r\n        -ms-transform: scale(2);\r\n            transform: scale(2);\r\n    -webkit-transition: opacity 1.2s ease-out, -webkit-transform 0.6s ease-out;\r\n    transition: opacity 1.2s ease-out, -webkit-transform 0.6s ease-out;\r\n    transition: opacity 1.2s ease-out, transform 0.6s ease-out;\r\n    transition: opacity 1.2s ease-out, transform 0.6s ease-out, -webkit-transform 0.6s ease-out; }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/complaint/complaintCase/Casecompoent/ImageCroppers/index.vue","/**\r\n * 点击波纹效果\r\n *\r\n * @param  {[event]} e        [description]\r\n * @param  {[Object]} arg_opts [description]\r\n * @return {[bollean]}          [description]\r\n */\r\nexport default function(e, arg_opts) {\r\n  var opts = Object.assign({\r\n    ele: e.target, // 波纹作用元素\r\n    type: 'hit', // hit点击位置扩散center中心点扩展\r\n    bgc: 'rgba(0, 0, 0, 0.15)' // 波纹颜色\r\n  }, arg_opts)\r\n  var target = opts.ele\r\n  if (target) {\r\n    var rect = target.getBoundingClientRect()\r\n    var ripple = target.querySelector('.e-ripple')\r\n    if (!ripple) {\r\n      ripple = document.createElement('span')\r\n      ripple.className = 'e-ripple'\r\n      ripple.style.height = ripple.style.width = Math.max(rect.width, rect.height) + 'px'\r\n      target.appendChild(ripple)\r\n    } else {\r\n      ripple.className = 'e-ripple'\r\n    }\r\n    switch (opts.type) {\r\n      case 'center':\r\n        ripple.style.top = (rect.height / 2 - ripple.offsetHeight / 2) + 'px'\r\n        ripple.style.left = (rect.width / 2 - ripple.offsetWidth / 2) + 'px'\r\n        break\r\n      default:\r\n        ripple.style.top = (e.pageY - rect.top - ripple.offsetHeight / 2 - document.body.scrollTop) + 'px'\r\n        ripple.style.left = (e.pageX - rect.left - ripple.offsetWidth / 2 - document.body.scrollLeft) + 'px'\r\n    }\r\n    ripple.style.backgroundColor = opts.bgc\r\n    ripple.className = 'e-ripple z-active'\r\n    return false\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/newsManager/newsForm/ImageCropper/utils/effectRipple.js","/**\r\n * database64文件格式转换为2进制\r\n *\r\n * @param  {[String]} data dataURL 的格式为 “data:image/png;base64,****”,逗号之前都是一些说明性的文字，我们只需要逗号之后的就行了\r\n * @param  {[String]} mime [description]\r\n * @return {[blob]}      [description]\r\n */\r\nexport default function(data, mime) {\r\n  data = data.split(',')[1]\r\n  data = window.atob(data)\r\n  var ia = new Uint8Array(data.length)\r\n  for (var i = 0; i < data.length; i++) {\r\n    ia[i] = data.charCodeAt(i)\r\n  }\r\n  // canvas.toDataURL 返回的默认格式就是 image/png\r\n  return new Blob([ia], {\r\n    type: mime\r\n  })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/newsManager/newsForm/ImageCropper/utils/data2blob.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.value),expression:\"value\"}],staticClass:\"vue-image-crop-upload\"},[_c('div',{staticClass:\"vicp-wrap\"},[_c('div',{staticClass:\"vicp-close\",on:{\"click\":_vm.off}},[_c('i',{staticClass:\"vicp-icon4\"})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step == 1),expression:\"step == 1\"}],staticClass:\"vicp-step1\"},[_c('div',{staticClass:\"vicp-drop-area\",on:{\"dragleave\":_vm.preventDefault,\"dragover\":_vm.preventDefault,\"dragenter\":_vm.preventDefault,\"click\":_vm.handleClick,\"drop\":_vm.handleChange}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading != 1),expression:\"loading != 1\"}],staticClass:\"vicp-icon1\"},[_c('i',{staticClass:\"vicp-icon1-arrow\"}),_vm._v(\" \"),_c('i',{staticClass:\"vicp-icon1-body\"}),_vm._v(\" \"),_c('i',{staticClass:\"vicp-icon1-bottom\"})]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading !== 1),expression:\"loading !== 1\"}],staticClass:\"vicp-hint\"},[_vm._v(_vm._s(_vm.lang.hint))]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isSupported),expression:\"!isSupported\"}],staticClass:\"vicp-no-supported-hint\"},[_vm._v(_vm._s(_vm.lang.noSupported))]),_vm._v(\" \"),(_vm.step == 1)?_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"fileinput\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.handleChange}}):_vm._e()]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasError),expression:\"hasError\"}],staticClass:\"vicp-error\"},[_c('i',{staticClass:\"vicp-icon2\"}),_vm._v(\" \"+_vm._s(_vm.errorMsg)+\"\\r\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"vicp-operate\"},[_c('a',{on:{\"click\":_vm.off,\"mousedown\":_vm.ripple}},[_vm._v(_vm._s(_vm.lang.btn.off))])])]),_vm._v(\" \"),(_vm.step == 2)?_c('div',{staticClass:\"vicp-step2\"},[_c('div',{staticClass:\"vicp-crop\",staticStyle:{\"display\":\"flex\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(true),expression:\"true\"}],staticClass:\"vicp-crop-left\"},[_c('div',{staticClass:\"vicp-img-container\"},[_c('img',{ref:\"img\",staticClass:\"vicp-img\",style:(_vm.sourceImgStyle),attrs:{\"src\":_vm.sourceImgUrl,\"draggable\":\"false\"},on:{\"drag\":_vm.preventDefault,\"dragstart\":_vm.preventDefault,\"dragend\":_vm.preventDefault,\"dragleave\":_vm.preventDefault,\"dragover\":_vm.preventDefault,\"dragenter\":_vm.preventDefault,\"drop\":_vm.preventDefault,\"touchstart\":_vm.imgStartMove,\"touchmove\":_vm.imgMove,\"touchend\":_vm.createImg,\"touchcancel\":_vm.createImg,\"mousedown\":_vm.imgStartMove,\"mousemove\":_vm.imgMove,\"mouseup\":_vm.createImg,\"mouseout\":_vm.createImg}}),_vm._v(\" \"),_c('div',{staticClass:\"vicp-img-shade vicp-img-shade-1\",style:(_vm.sourceImgShadeStyle)}),_vm._v(\" \"),_c('div',{staticClass:\"vicp-img-shade vicp-img-shade-2\",style:(_vm.sourceImgShadeStyle)})]),_vm._v(\" \"),_c('div',{staticClass:\"vicp-range\"},[_c('input',{attrs:{\"type\":\"range\",\"step\":\"1\",\"min\":\"0\",\"max\":\"100\"},domProps:{\"value\":_vm.scale.range},on:{\"input\":_vm.zoomChange}}),_vm._v(\" \"),_c('i',{staticClass:\"vicp-icon5\",on:{\"mousedown\":_vm.startZoomSub,\"mouseout\":_vm.endZoomSub,\"mouseup\":_vm.endZoomSub}}),_vm._v(\" \"),_c('i',{staticClass:\"vicp-icon6\",on:{\"mousedown\":_vm.startZoomAdd,\"mouseout\":_vm.endZoomAdd,\"mouseup\":_vm.endZoomAdd}})]),_vm._v(\" \"),(!_vm.noRotate)?_c('div',{staticClass:\"vicp-rotate\"},[_c('i',{on:{\"mousedown\":_vm.startRotateLeft,\"mouseout\":_vm.endRotate,\"mouseup\":_vm.endRotate}},[_vm._v(\"↺\")]),_vm._v(\" \"),_c('i',{on:{\"mousedown\":_vm.startRotateRight,\"mouseout\":_vm.endRotate,\"mouseup\":_vm.endRotate}},[_vm._v(\"↻\")])]):_vm._e()]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(true),expression:\"true\"}],staticClass:\"vicp-crop-right\"},[_c('div',{staticClass:\"vicp-preview\"},[(!_vm.noSquare)?_c('div',{staticClass:\"vicp-preview-item\"},[_c('img',{style:(_vm.previewStyle),attrs:{\"src\":_vm.createImgUrl}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.lang.preview))])]):_vm._e()])])]),_vm._v(\" \"),_c('div',{staticClass:\"vicp-operate\"},[_c('a',{on:{\"click\":function($event){return _vm.setStep(1)},\"mousedown\":_vm.ripple}},[_vm._v(_vm._s(_vm.lang.btn.back))]),_vm._v(\" \"),_c('a',{staticClass:\"vicp-operate-btn\",on:{\"click\":_vm.prepareUpload,\"mousedown\":_vm.ripple}},[_vm._v(_vm._s(_vm.lang.btn.save))])])]):_vm._e(),_vm._v(\" \"),(_vm.step == 3)?_c('div',{staticClass:\"vicp-step3\"},[_c('div',{staticClass:\"vicp-upload\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading === 1),expression:\"loading === 1\"}],staticClass:\"vicp-loading\"},[_vm._v(_vm._s(_vm.lang.loading))]),_vm._v(\" \"),_c('div',{staticClass:\"vicp-progress-wrap\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading === 1),expression:\"loading === 1\"}],staticClass:\"vicp-progress\",style:(_vm.progressStyle)})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasError),expression:\"hasError\"}],staticClass:\"vicp-error\"},[_c('i',{staticClass:\"vicp-icon2\"}),_vm._v(\" \"+_vm._s(_vm.errorMsg)+\"\\r\\n        \")]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading === 2),expression:\"loading === 2\"}],staticClass:\"vicp-success\"},[_c('i',{staticClass:\"vicp-icon3\"}),_vm._v(\" \"+_vm._s(_vm.lang.success)+\"\\r\\n        \")])]),_vm._v(\" \"),_c('div',{staticClass:\"vicp-operate\"},[_c('a',{on:{\"click\":function($event){return _vm.setStep(2)},\"mousedown\":_vm.ripple}},[_vm._v(_vm._s(_vm.lang.btn.back))]),_vm._v(\" \"),_c('a',{on:{\"click\":_vm.off,\"mousedown\":_vm.ripple}},[_vm._v(_vm._s(_vm.lang.btn.close))])])]):_vm._e(),_vm._v(\" \"),_c('canvas',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"canvas\",staticStyle:{\"width\":\"370px\",\"height\":\"150px\"},attrs:{\"width\":_vm.width,\"height\":_vm.height}})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-571c1a83\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/newsManager/newsForm/ImageCropper/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-571c1a83\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-571c1a83\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/newsManager/newsForm/ImageCropper/index.vue\n// module id = null\n// module chunks = ","import fetch from '@/api/fetch.js'\r\nimport qs from 'qs'\r\n\r\n// 获取期刊列表\r\nexport function getMagazinePage () {\r\n  return fetch({\r\n    url: '/kukacms/visitor/getMagazinePage.htm',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// 获取期刊栏目\r\nexport function getTypeAuditList (data) {\r\n  return fetch({\r\n    url: `/kukacms/getTypeAuditList.htm?magazine=${data}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// 保存\r\nexport function addNews (news) {\r\n  return fetch({\r\n    url: '/kukacms/addDocument.htm',\r\n    method: 'post',\r\n    data: qs.stringify(news)\r\n  })\r\n}\r\n\r\n// 更新\r\nexport function updataNews (news) {\r\n  return fetch({\r\n    url: '/kukacms/updateDocument.htm',\r\n    method: 'post',\r\n    data: qs.stringify(news)\r\n  })\r\n}\r\n\r\n// 提交编辑内容\r\nexport function updataMobile (news) {\r\n  return fetch({\r\n    url: '/kukacms/visitor/picFilter.htm',\r\n    method: 'post',\r\n    data: qs.stringify(news)\r\n  })\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/views/newsManager/newsForm/news.js","<template>\r\n  <div class=\"form-box\">\r\n    <el-form :model=\"news\" :rules=\"rules\" label-width=\"110px\" style=\"width: 800px\" ref=\"newsform\" >\r\n      <el-form-item label=\"标题\" prop=\"name\" >\r\n        <el-input v-model=\"news.name\" ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"部门 / 作者\" prop=\"keywords\" >\r\n        <el-input v-model=\"news.keywords\" placeholder=\"请按: ‘部门 / 作者’ 格式填写\" ></el-input>\r\n      </el-form-item>\r\n      <!-- <el-form-item label=\"作者\" >\r\n        <el-input v-model=\"news.source\" ></el-input>\r\n      </el-form-item> -->\r\n      <el-form-item label=\"期刊\" style=\"width: 500px\" >\r\n        <el-col :span=\"10\" >\r\n          <el-form-item prop=\"magazine\" >\r\n            <el-select v-model=\"magazine\" placeholder=\"请选择期刊\" @change=\"searchMagazine\" value-key=\"name\"  >\r\n              <el-option\r\n                v-for=\"item in searchList\"\r\n                :key=\"item.id\"\r\n                :label=\"item.name\" \r\n                :value=\"item\" >\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"2\" style=\"margin: 0 15px\" >\r\n          栏目\r\n        </el-col>\r\n        <el-col :span=\"10\" >\r\n          <el-form-item prop=\"typeId\" >\r\n            <el-select \r\n              v-model=\"type\"\r\n              @change=\"setType\"\r\n              value-key=\"id\"\r\n              placeholder=\"请选择栏目\" >\r\n              <el-option\r\n                v-for=\"item in typeList\"\r\n                :key=\"item.id\"\r\n                :label=\"item.name\"\r\n                :value=\"item\">\r\n              </el-option>\r\n          </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-form-item>\r\n      <el-form-item label=\"资讯类型\" prop=\"contentType\" >\r\n        <el-select v-model=\"news.contentType\" placeholder=\"选择类型\" >\r\n          <el-option label=\"图文结合\" value=\"0\" ></el-option>\r\n          <el-option label=\"图片资讯\" value=\"1\" ></el-option>\r\n          <el-option label=\"视频资讯\" value=\"2\" ></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"摘要\" prop=\"summary\" >\r\n        <el-input v-model=\"news.summary\" ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"评论设置\" >\r\n        <el-radio-group v-model=\"news.commentAuditRequired\" >\r\n          <el-radio label=\"1\" >审核</el-radio>\r\n          <el-radio label=\"0\" >不审核</el-radio>\r\n        </el-radio-group>\r\n      </el-form-item>\r\n\r\n      <!-- 文本编辑器 -->\r\n      <tiny @input=\"saveEditor\" class=\"tiny\" v-model=\"news.mobileContent\" >\r\n        <!-- 上传封面图 -->\r\n\r\n            <el-upload\r\n              class=\"upload-demo mt\"\r\n              name=\"files\"\r\n              action=\"/kukacms/visitor/picUpload.htm?type=2\"\r\n              :on-preview=\"handlePreview\"\r\n              :on-remove=\"handleRemove\"\r\n              :before-remove=\"beforeRemove\"\r\n              :on-success=\"handleSuccess\"\r\n              :show-file-list=\"false\"\r\n              multiple\r\n              :limit=\"3\"\r\n              :on-exceed=\"handleExceed\"\r\n              :file-list=\"fileList\">\r\n              <el-button size=\"mini\" type=\"primary\" style=\"width: 96px;\" >自定义封面</el-button>\r\n            </el-upload>\r\n            <el-row class=\"mt\" >\r\n              <el-button size=\"mini\" type=\"primary\" style=\"width: 96px;\"  @click=\"show=true\" >裁剪封面图</el-button>\r\n            </el-row>\r\n\r\n            <el-button class=\"mt\" size=\"mini\" type=\"primary\" @click=\"select\" style=\"width: 96px;\" >从正文选择</el-button>\r\n            <el-row class=\"mt\" >\r\n              <p>封面预览</p>\r\n            </el-row>\r\n            <el-row v-if=\"news.covers\" >\r\n              <div style=\"width: 200px\" >\r\n                <img :src=\" news.covers\" alt=\"\" style=\"width: 100%\"  >\r\n              </div>\r\n            </el-row>\r\n      </tiny>\r\n\r\n\r\n      <!-- 保存操作 -->\r\n      <div class=\"footer-nav\">\r\n        <el-button type=\"success\" class=\"btn\" @click=\"backList\" >返回</el-button>\r\n        <el-button type=\"warning\" class=\"btn\" @click=\"onSubmit\" >保存待发送</el-button>\r\n      </div>\r\n\r\n\r\n    </el-form>\r\n    <cropper url=\"/kukacms/visitor/picUpload.htm?type=2\" field=\"files\" @crop-upload-success=\"setImg\" :value=\"show\" @close=\"show=false\" ></cropper>\r\n    <!-- 选择表单 -->\r\n    <el-dialog \r\n      title=\"选择封面图\" \r\n      :visible.sync=\"dialogFormVisible\"\r\n      :append-to-body=\"true\"\r\n    >\r\n      <img :src=\"item\" alt=\"\" v-for=\"(item, i) in picList\" :key=\"i\" class=\"picstyle\" @click=\"setimg(item, i)\" :class=\"{sel: index == i}\" >\r\n      <span slot=\"footer\" class=\"dialog-footer\" >\r\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"dialogFormVisible = false\" >保存</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport cropper from './ImageCropper/index'\r\nimport { getTypeAuditList, addNews, updataMobile, updataNews } from './news'\r\nimport tiny from '@/components/Tinymce/index'\r\nimport { getMagazinePage } from '@/api/magList'\r\nexport default {\r\n  props: {\r\n    news: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          id: '',\r\n          // 标题\r\n          name: '',\r\n          // 关键词\r\n          keywords: '',\r\n          // 来源\r\n          source: '',\r\n          // 期刊\r\n          magazine: '',\r\n          // 栏目\r\n          typeFullPath: '',\r\n          // 资讯类型\r\n          contentType: '0',\r\n          // 客户端\r\n          clients: 'a',\r\n          // 摘要\r\n          summary: '',\r\n          // 评论设置\r\n          commentAuditRequired: '0',\r\n          // 不明参数\r\n          commentMaxValue: 5,\r\n          commentAllowed: 1,\r\n          dianzanAllowed: 0,\r\n          typeId: '',\r\n          position: '0',\r\n          mobileContent: '',\r\n          covers: ''\r\n        }\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      show: false,\r\n      rules: {\r\n        name: [{required: true, message: '请输入标题',trigger: 'blur'}],\r\n        magazine: [{required: true, message: '请选择期刊',trigger: 'change'}],\r\n        typeId: [{required: true, message: '请选择栏目',trigger: 'change'}],\r\n        keywords: [{required: true, message: '请输入部门/作者',trigger: 'blur'}],\r\n        // type: [{required: true, message: '请选择栏目',trigger: 'change'}],\r\n        contentType: [{required: true, message: '请选择资讯类型',trigger: 'blur'}],\r\n        clients: [{required: true, message: '请选择客户端',trigger: 'blur'}],\r\n        summary: [{required: true, message: '请输入摘要',trigger: 'blur'}],\r\n      },\r\n      searchList: [],\r\n      magazine: '',\r\n      typeList: '',\r\n      type: '',\r\n      fileList: [],\r\n      dialogFormVisible: false,\r\n      picList: [],\r\n      index: ''\r\n    }\r\n  },\r\n  created () {\r\n    \r\n    // this.type = this.news.typeId\r\n    this._getMagazineList()\r\n  },\r\n  mounted () {\r\n    setTimeout(() => {\r\n      this.magazine = this.news.magazine\r\n      this.type = this.news.typeName\r\n\r\n    }, 2000)\r\n    \r\n  },\r\n  methods: {\r\n    backList () {\r\n      this.$router.push({\r\n        path: '/index/pastList'\r\n      })\r\n    },\r\n    _getMagazineList () {\r\n      getMagazinePage(1).then(res => {\r\n        // console.log(res.data.itemList)\r\n        this.searchList = res.data.itemList\r\n      })\r\n    },\r\n    // 查找期刊文章列表 查找栏目列表\r\n    searchMagazine (val) {\r\n      this.news.magazine = this.magazine.name\r\n      this.news.typeId = ''\r\n      getTypeAuditList(val.name).then(res => {\r\n        this.typeList = res.data\r\n        this.type =  null\r\n      })\r\n    },\r\n    // 设置栏目\r\n    setType (i) {\r\n      this.news.typeFullPath = i.name\r\n      this.news.typeId = i.id\r\n    },\r\n    // 保存\r\n    onSubmit () {\r\n      if (this.news.keywords.indexOf('/') < 0) {\r\n        this.$alert('请按: ‘部门 / 作者’ 格式填写部门与作者', '提示', {\r\n          confirmButtonText: '确定',\r\n          type: 'warning'\r\n        })\r\n        return\r\n      }\r\n      this.$refs.newsform.validate(valid => {\r\n        if (valid) {\r\n          this.news.position = 0\r\n          addNews(this.news).then(res => {\r\n            this.$message({\r\n              message: res.message,\r\n              type: 'success',\r\n              duration: 3 * 1000\r\n            })\r\n            this.$router.push({\r\n              path: '/index/pastList'\r\n            })\r\n          })\r\n        } else {\r\n          console.log('error')\r\n          return false\r\n        }\r\n      })\r\n\r\n    },\r\n    onSubmitUp () {\r\n      if (this.$route.query.id) {\r\n        this.$refs.newsform.validate(valid => {\r\n          if (valid) {\r\n            console.log(this.news)\r\n            this.news.position = 2\r\n            updataNews(this.news).then(res => {\r\n              this.$message({\r\n                message: res.message,\r\n                type: 'success',\r\n                duration: 3 * 1000\r\n              })\r\n              this.$router.push({\r\n                path: '/index/pastList'\r\n              })\r\n            })\r\n          } else {\r\n            console.log('error')\r\n            return false\r\n          }\r\n        })\r\n      } else {\r\n        this.$refs.newsform.validate(valid => {\r\n          if (valid) {\r\n            console.log(this.news)\r\n            this.news.position = 2\r\n            addNews(this.news).then(res => {\r\n              this.$message({\r\n                message: res.message,\r\n                type: 'success',\r\n                duration: 3 * 1000\r\n              })\r\n              this.$router.push({\r\n                path: '/index/pastList'\r\n              })\r\n            })\r\n          } else {\r\n            console.log('error')\r\n            return false\r\n          }\r\n        })\r\n      }\r\n      this.$refs.newsform.validate(valid => {\r\n        if (valid) {\r\n          console.log(this.news)\r\n          this.news.position = 2\r\n          addNews(this.news).then(res => {\r\n            this.$message({\r\n              message: res.message,\r\n              type: 'success',\r\n              duration: 3 * 1000\r\n            })\r\n          })\r\n        } else {\r\n          console.log('error')\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    // 同步编辑器\r\n    saveEditor (i) {\r\n      // console.log(i)\r\n      this.news.mobileContent = i\r\n    },\r\n    // 上传图片\r\n    handleRemove(file, fileList) {\r\n      console.log(file, fileList);\r\n    },\r\n    handlePreview(file) {\r\n      console.log(file);\r\n    },\r\n    handleExceed(files, fileList) {\r\n      this.$message.warning(`当前限制选择 3 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`);\r\n    },\r\n    beforeRemove(file, fileList) {\r\n      return this.$confirm(`确定移除 ${ file.name }？`);\r\n    },\r\n    handleSuccess(response, file) {\r\n      // console.log(file)\r\n      console.log(response.data[1])\r\n      this.news.covers = response.data[1]\r\n    },\r\n    setImg (data) {\r\n      this.news.covers = data[1]\r\n    },\r\n    select () {\r\n      this.dialogFormVisible = true\r\n      let data = {\r\n        content: this.news.mobileContent\r\n      }\r\n      updataMobile(data).then(res => {\r\n        console.log(res.data)\r\n        this.picList = res.data\r\n      })\r\n    },\r\n    setimg (i, index) {\r\n      this.index = index\r\n      this.news.covers = i\r\n    },\r\n    saveCover () {\r\n\r\n    }\r\n  },\r\n  components: {\r\n    tiny,\r\n    cropper\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n  .form-box {\r\n\r\n  }\r\n  .tiny {\r\n    margin: 20px 0;\r\n    padding-bottom: 10px\r\n  }\r\n\r\n  .picstyle {\r\n    width: 100px;\r\n    height: 50px;\r\n    margin: 20px;\r\n  }\r\n\r\n  .sel {\r\n    border: 1px solid #67c23a\r\n  }\r\n\r\n  .footer-nav {\r\n    position: fixed;\r\n    z-index: 1;\r\n    // width: 100%;\r\n    padding-right: 150px;\r\n    left: 0;\r\n    right: 0;\r\n    height: 60px;\r\n    line-height: 60px;\r\n    bottom: 0;\r\n    border-top: 1px solid #999999;\r\n    background: #ffffff;\r\n  }\r\n  .btn {\r\n    float: right;\r\n    margin: 10px 10px;\r\n  }\r\n\r\n  .mt {\r\n    margin-top: 10px;\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/newsManager/newsForm/news-form.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-box\"},[_c('el-form',{ref:\"newsform\",staticStyle:{\"width\":\"800px\"},attrs:{\"model\":_vm.news,\"rules\":_vm.rules,\"label-width\":\"110px\"}},[_c('el-form-item',{attrs:{\"label\":\"标题\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.news.name),callback:function ($$v) {_vm.$set(_vm.news, \"name\", $$v)},expression:\"news.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"部门 / 作者\",\"prop\":\"keywords\"}},[_c('el-input',{attrs:{\"placeholder\":\"请按: ‘部门 / 作者’ 格式填写\"},model:{value:(_vm.news.keywords),callback:function ($$v) {_vm.$set(_vm.news, \"keywords\", $$v)},expression:\"news.keywords\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"width\":\"500px\"},attrs:{\"label\":\"期刊\"}},[_c('el-col',{attrs:{\"span\":10}},[_c('el-form-item',{attrs:{\"prop\":\"magazine\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择期刊\",\"value-key\":\"name\"},on:{\"change\":_vm.searchMagazine},model:{value:(_vm.magazine),callback:function ($$v) {_vm.magazine=$$v},expression:\"magazine\"}},_vm._l((_vm.searchList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item}})}),1)],1)],1),_vm._v(\" \"),_c('el-col',{staticStyle:{\"margin\":\"0 15px\"},attrs:{\"span\":2}},[_vm._v(\"\\n        栏目\\n      \")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":10}},[_c('el-form-item',{attrs:{\"prop\":\"typeId\"}},[_c('el-select',{attrs:{\"value-key\":\"id\",\"placeholder\":\"请选择栏目\"},on:{\"change\":_vm.setType},model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}},_vm._l((_vm.typeList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item}})}),1)],1)],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"资讯类型\",\"prop\":\"contentType\"}},[_c('el-select',{attrs:{\"placeholder\":\"选择类型\"},model:{value:(_vm.news.contentType),callback:function ($$v) {_vm.$set(_vm.news, \"contentType\", $$v)},expression:\"news.contentType\"}},[_c('el-option',{attrs:{\"label\":\"图文结合\",\"value\":\"0\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"图片资讯\",\"value\":\"1\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"视频资讯\",\"value\":\"2\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"摘要\",\"prop\":\"summary\"}},[_c('el-input',{model:{value:(_vm.news.summary),callback:function ($$v) {_vm.$set(_vm.news, \"summary\", $$v)},expression:\"news.summary\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"评论设置\"}},[_c('el-radio-group',{model:{value:(_vm.news.commentAuditRequired),callback:function ($$v) {_vm.$set(_vm.news, \"commentAuditRequired\", $$v)},expression:\"news.commentAuditRequired\"}},[_c('el-radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"审核\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"0\"}},[_vm._v(\"不审核\")])],1)],1),_vm._v(\" \"),_c('tiny',{staticClass:\"tiny\",on:{\"input\":_vm.saveEditor},model:{value:(_vm.news.mobileContent),callback:function ($$v) {_vm.$set(_vm.news, \"mobileContent\", $$v)},expression:\"news.mobileContent\"}},[_c('el-upload',{staticClass:\"upload-demo mt\",attrs:{\"name\":\"files\",\"action\":\"/kukacms/visitor/picUpload.htm?type=2\",\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"before-remove\":_vm.beforeRemove,\"on-success\":_vm.handleSuccess,\"show-file-list\":false,\"multiple\":\"\",\"limit\":3,\"on-exceed\":_vm.handleExceed,\"file-list\":_vm.fileList}},[_c('el-button',{staticStyle:{\"width\":\"96px\"},attrs:{\"size\":\"mini\",\"type\":\"primary\"}},[_vm._v(\"自定义封面\")])],1),_vm._v(\" \"),_c('el-row',{staticClass:\"mt\"},[_c('el-button',{staticStyle:{\"width\":\"96px\"},attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.show=true}}},[_vm._v(\"裁剪封面图\")])],1),_vm._v(\" \"),_c('el-button',{staticClass:\"mt\",staticStyle:{\"width\":\"96px\"},attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.select}},[_vm._v(\"从正文选择\")]),_vm._v(\" \"),_c('el-row',{staticClass:\"mt\"},[_c('p',[_vm._v(\"封面预览\")])]),_vm._v(\" \"),(_vm.news.covers)?_c('el-row',[_c('div',{staticStyle:{\"width\":\"200px\"}},[_c('img',{staticStyle:{\"width\":\"100%\"},attrs:{\"src\":_vm.news.covers,\"alt\":\"\"}})])]):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"footer-nav\"},[_c('el-button',{staticClass:\"btn\",attrs:{\"type\":\"success\"},on:{\"click\":_vm.backList}},[_vm._v(\"返回\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"btn\",attrs:{\"type\":\"warning\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"保存待发送\")])],1)],1),_vm._v(\" \"),_c('cropper',{attrs:{\"url\":\"/kukacms/visitor/picUpload.htm?type=2\",\"field\":\"files\",\"value\":_vm.show},on:{\"crop-upload-success\":_vm.setImg,\"close\":function($event){_vm.show=false}}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"选择封面图\",\"visible\":_vm.dialogFormVisible,\"append-to-body\":true},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_vm._l((_vm.picList),function(item,i){return _c('img',{key:i,staticClass:\"picstyle\",class:{sel: _vm.index == i},attrs:{\"src\":item,\"alt\":\"\"},on:{\"click\":function($event){return _vm.setimg(item, i)}}})}),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"保存\")])],1)],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-01c56080\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/newsManager/newsForm/news-form.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-01c56080\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./news-form.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./news-form.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./news-form.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-01c56080\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./news-form.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-01c56080\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/newsManager/newsForm/news-form.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"news-container\">\r\n    <!-- 新建表单 -->\r\n    <news-form :news=\"news\" ></news-form>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport newsForm from './newsForm/news-form'\r\nimport tiny from '@/components/Tinymce/index'\r\nimport { addNews, getDocument, updataNews } from '@/api/addNews'\r\nimport { getMagazinePage, getTypeList, getTypeAuditList } from '@/api/pastList'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      news: {},\r\n      news: {\r\n        id: '',\r\n        // 标题\r\n        name: '',\r\n        // 关键词\r\n        keywords: '',\r\n        // 来源\r\n        source: '',\r\n        // 期刊\r\n        magazine: '',\r\n        // 栏目\r\n        typeFullPath: '',\r\n        // 资讯类型\r\n        contentType: '0',\r\n        // 客户端\r\n        clients: 'a',\r\n        // 摘要\r\n        summary: '',\r\n        // 预计发布时间\r\n        // advanceTime: '',\r\n        // 评论设置\r\n        commentAuditRequired: '0',\r\n        // 不明参数\r\n        commentMaxValue: 5,\r\n        commentAllowed: 1,\r\n        dianzanAllowed: 0,\r\n        typeId: '',\r\n        position: '0',\r\n        mobileContent: '',\r\n        covers: ''\r\n      },\r\n      rules: {\r\n        name: [{required: true, message: '请输入标题',trigger: 'blur'}],\r\n        magazine: [{required: true, message: '请选择期刊',trigger: 'change'}],\r\n        typeId: [{required: true, message: '请选择栏目',trigger: 'change'}],\r\n        contentType: [{required: true, message: '请选择资讯类型',trigger: 'blur'}],\r\n        clients: [{required: true, message: '请选择客户端',trigger: 'blur'}],\r\n        summary: [{required: true, message: '请输入摘要',trigger: 'blur'}],\r\n        // advanceTime: [{required: true, message: '请选择发布时间',trigger: 'change'}],\r\n      },\r\n      magazine: null,\r\n      searchList: null,\r\n      typeList: null,\r\n      type: null,\r\n    }\r\n  },\r\n  created () {\r\n    if (this.$route.query.id) {\r\n      getDocument(this.$route.query.id).then(res => {\r\n        console.log(res)\r\n        console.log(res.data.magazine)\r\n        this.news = res.data\r\n        this.news.contentType = res.data.contentType.toString()\r\n        this.news.commentAuditRequired = res.data.commentAuditRequired.toString()\r\n      })\r\n    }\r\n\r\n    getMagazinePage().then(res => {\r\n      this.searchList = res.data.itemList\r\n    })\r\n  },\r\n  methods: {\r\n    saveEditor (i) {\r\n      console.log(i)\r\n      this.news.mobileContent = i\r\n    },\r\n    onSubmit () {\r\n      this.$refs.newsform.validate(valid => {\r\n        if (valid) {\r\n          this.news.position = 0\r\n          addNews(this.news).then(res => {\r\n            this.$message({\r\n              message: res.message,\r\n              type: 'success',\r\n              duration: 3 * 1000\r\n            })\r\n          })\r\n        } else {\r\n          console.log('error')\r\n          return false\r\n        }\r\n      })\r\n\r\n    },\r\n    onSubmitUp () {\r\n      this.$refs.newsform.validate(valid => {\r\n        if (valid) {\r\n          console.log(this.news)\r\n          this.news.position = 2\r\n          addNews(this.news).then(res => {\r\n            this.$message({\r\n              message: res.message,\r\n              type: 'success',\r\n              duration: 3 * 1000\r\n            })\r\n          })\r\n        } else {\r\n          console.log('error')\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    // 查找期刊文章列表 查找栏目列表\r\n    searchMagazine (val) {\r\n      this.news.magazine = this.magazine.name\r\n      this.news.typeId = ''\r\n      getTypeAuditList(val.name).then(res => {\r\n        this.typeList = res.data\r\n        this.type =  null\r\n      })\r\n    },\r\n    // 设置栏目\r\n    setType (i) {\r\n      this.news.typeFullPath = i.name\r\n      this.news.typeId = i.id\r\n    },\r\n\r\n    update (e) {\r\n          let file = e.target.files[0];           \r\n          let param = new FormData(); //创建form对象\r\n          param.append('file',file,file.name);//通过append向form对象添加数据\r\n          param.append('chunk','0');//添加form表单中其他数据\r\n          console.log(param.get('file')); //FormData私有类对象，访问不到，可以通过get判断值是否传进去\r\n          let config = {\r\n            headers:{'Content-Type':'multipart/form-data'}\r\n          };  //添加请求头\r\n          // this.axios.post('http://upload.qiniu.com/',param,config)\r\n          // .then(response=>{\r\n          //   console.log(response.data);\r\n          // })   \r\n    }\r\n  },\r\n  components: {\r\n    newsForm,\r\n    tiny\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .news-container {\r\n    padding: 20px 0;\r\n  }\r\n\r\n\r\n  .form-box {\r\n    position: relative;\r\n    .el-form {\r\n      position: absolute;\r\n      left: 50%;\r\n      transform: translate3d(-50%, 0, 0);\r\n      margin-bottom: 50px;\r\n      margin-top: 20px;\r\n      padding-bottom: 250px;\r\n    }\r\n  }\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/newsManager/addNews.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"news-container\"},[_c('news-form',{attrs:{\"news\":_vm.news}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-75ad6ffc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/newsManager/addNews.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-75ad6ffc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./addNews.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./addNews.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./addNews.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-75ad6ffc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./addNews.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-75ad6ffc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/newsManager/addNews.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}