{"version":3,"sources":["webpack:///./src/views/complaint/severApi/caseServer.js","webpack:///src/views/complaint/complaintCase/Casecompoent/listCaseComp.vue","webpack:///./src/views/complaint/complaintCase/Casecompoent/listCaseComp.vue?62f2","webpack:///./src/views/complaint/complaintCase/Casecompoent/listCaseComp.vue"],"names":["__webpack_exports__","id","fetch","url","method","curPage","sizePage","status","editSubmit","data","qs","stringify","addSubmit","__WEBPACK_IMPORTED_MODULE_0__api_fetch_js__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_1_qs__","__WEBPACK_IMPORTED_MODULE_1_qs___default","n","listCaseComp","_ref","list","dialog","col","name","strTime","searchList","imgList","magazine","typeList","type","title","nextPage","prePage","content","defineProperty_default","created","_this","this","Object","caseServer","then","res","console","log","itemList","methods","upPages","_this2","nextPages","_this3","del","_this4","$confirm","confirmButtonText","cancelButtonText","$message","message","catch","handleSuccess","covers","bannerUrl","$refs","upload","clearFiles","editor","$router","push","query","saveEdit","_this5","editId","code","unStatus","_this6","pushDoc","text","_this7","word","pastList","errorlist","length","$alert","_text","i","filters","formatDate","time","date","Date","js_date","stage","Casecompoent_listCaseComp","render","_vm","_h","$createElement","_c","_self","staticStyle","margin","font-size","_v","margin-bottom","float","attrs","size","on","click","_s","width","border","align","label","scopedSlots","_u","key","fn","scope","_f","row","createTime","prop","$event","staticRenderFns","Component","normalizeComponent","ssrContext"],"mappings":"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","file":"static/js/14.00e66e9f1813ba2969de.js","sourcesContent":["import fetch from '@/api/fetch.js'\r\nimport qs from 'qs'\r\n\r\n//根据id获取\r\nexport function getcasebyId (id) {\r\n  return fetch({\r\n    url: `/kukacms/api/complaint/news/getById.htm?id=${id}`,\r\n    method: 'get',\r\n  })\r\n}\r\n\r\n// 新增 banner 图片\r\n// export function addIndexComppic (url,remark) {\r\n//   return fetch({\r\n//     url: `/kukacms/api/complanit/addIndexPic.htm?url=${url}&remark=${remark}`,\r\n//     method: 'get',\r\n//   })\r\n// }\r\n\r\n// 分页获取列表投诉\r\nexport function getcasebytitle (curPage,sizePage,status) {\r\n  return fetch({\r\n    url: `/kukacms/api/complaint/news/page.htm?curPage=${curPage}&sizePage=${sizePage}&status=${status}`,\r\n    method: 'get',\r\n  })\r\n}\r\n// 删除根据id\r\nexport function delcase (id) {\r\n  return fetch({\r\n    url: `/kukacms/api/complaint/news/delete.htm?id=${id}`,\r\n    method: 'get',\r\n  })\r\n}\r\n// 编辑\r\nexport function editcase (editSubmit) {\r\n  return fetch({\r\n    url: `/kukacms/api/complaint/news/update.htm`,\r\n    method: 'post',\r\n    data: qs.stringify(editSubmit)\r\n  })\r\n}\r\n//新增\r\nexport function addcase (addSubmit) {\r\n  return fetch({\r\n    url: `/kukacms/api/complaint/news/add.htm`,\r\n    method: 'post',\r\n    data: qs.stringify(addSubmit)\r\n  })\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/views/complaint/severApi/caseServer.js","<template>\r\n  <div>\r\n    <h1 style=\"margin: 20px 0; font-size: 24px\">案例列表</h1>\r\n    <el-row style=\"margin-bottom: 10px; float: right;\">\r\n      <el-col>\r\n        <el-button size=\"mini\" type=\"primary\" @click=\"unStatus\">切换状态显示列表</el-button>\r\n        <!-- <el-button size=\"mini\" type=\"primary\" @click=\"Status\">审核评论显示</el-button>         -->\r\n        <el-button size=\"mini\" type=\"primary\" @click=\"upPages\">上一页</el-button>\r\n        <span>{{curPage}}</span>\r\n        <el-button size=\"mini\" type=\"primary\" @click=\"nextPages\">下一页</el-button>\r\n      </el-col>\r\n    </el-row>\r\n    <el-table :data=\"list\" border style=\"width: 100%\">\r\n      <el-table-column align=\"center\" type=\"index\" label=\"序号\" width=\"50\"></el-table-column>\r\n      <el-table-column align=\"center\" label=\"时间\">\r\n        <template slot-scope=\"scope\">\r\n          <p>{{scope.row.createTime | formatDate}}</p>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" prop=\"title\" label=\"标题\"></el-table-column>\r\n      <!-- <el-table-column align=\"center\" prop=\"content\" label=\"内容\"></el-table-column> -->\r\n      <el-table-column align=\"center\" label=\"状态\" width=\"100\">\r\n        <template slot-scope=\"scope\">\r\n          <p>{{ scope.row.status | stage }}</p>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"操作\" width=\"400\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button  type=\"primary\" size=\"mini\" @click=\"pushDoc\">消息推送</el-button>\r\n          <el-button type=\"primary\" size=\"mini\" @click=\"editor(scope.row.id)\">编辑</el-button>\r\n          <el-button type=\"danger\" size=\"mini\" @click=\"del(scope.row.id)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 编辑窗口 -->\r\n    <!-- <el-dialog\r\n      title=\"期刊信息编辑\"\r\n      :visible.sync=\"dialog\"\r\n      :append-to-body=\"true\"\r\n      width=\"600px\"\r\n    >\r\n      <el-input placeholder=\"请输入标题内容\" v-model=\"title\" clearable></el-input>\r\n      <el-input placeholder=\"请输入摘要\" v-model=\"content\" clearable></el-input>\r\n      <span slot=\"footer\" class=\"dialog-footer\" >\r\n        <el-row type=\"flex\" justify=\"end\">\r\n      <el-upload\r\n        class=\"upload-demo mt\"\r\n        name=\"files\"\r\n        ref=\"upload\"\r\n        action=\"/kukacms/visitor/picUpload.htm?type=8\"\r\n        :on-success=\"handleSuccess\"\r\n        :show-file-list=\"false\"\r\n        :limit=\"1\"\r\n      >\r\n        <el-button size=\"mini\" type=\"primary\" style=\"width: 96px;\">上传图片</el-button>\r\n      </el-upload>\r\n    </el-row>\r\n    <el-row type=\"flex\" justify=\"center\" class=\"title\" style=\"width: 96px;\">\r\n      <span>图片预览</span>\r\n    </el-row>\r\n    <el-row type=\"flex\" justify=\"center\" class=\"content\" style=\"width: 96px;\">\r\n      <template v-if=\"!bannerUrl\">\r\n        <span>暂无数据</span>\r\n      </template>\r\n      <template v-else>\r\n        <div class=\"pic-box\">\r\n          <img :src=\"bannerUrl\" alt class=\"pic\">\r\n        </div>\r\n      </template>\r\n    </el-row>\r\n        <el-button @click=\"dialog = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"saveEdit\">保存</el-button>\r\n      </span>\r\n    </el-dialog>-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import { getDocumentList, searchDocument, getTypeList, workNotice } from '@/api/pastList'\r\n// import { getMagazinePage, updateMag, deleteMag, upMagazine } from '@/api/magList'\r\nimport { pushMessage }from '@/api/pastList'\r\nimport {\r\n  getcasebyId,\r\n  getcasebytitle,\r\n  delcase,\r\n  editcase\r\n} from \"@/views/complaint/severApi/caseServer\";\r\nimport { formatDate } from \"@/common/js/date\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      list: null,\r\n      dialog: false,\r\n      col: {\r\n        name: \"\",\r\n        id: \"\",\r\n        strTime: \"\"\r\n      },\r\n      searchList: null,\r\n      imgList: {},\r\n      magazine: null,\r\n      typeList: null,\r\n      type: null,\r\n      curPage: 1,\r\n      sizePage: 10,\r\n      title: 1,\r\n      nextPage: \"\",\r\n      prePage: \"\",\r\n      status: 0,\r\n      content: \"\",\r\n      title: \"\",\r\n      content: \"\",\r\n      bannerUrl: null,\r\n      covers: null,\r\n      editId: \"\"\r\n    };\r\n  },\r\n  created() {\r\n    getcasebytitle(this.curPage, this.sizePage, 0).then(res => {\r\n      console.log(res);\r\n      this.list = res.data.itemList;\r\n      this.nextPage = res.data.nextPage;\r\n      this.prePage = res.data.prePage;\r\n      // this.max = res.data.totalPage\r\n      // console.log(res);\r\n    });\r\n    // getTypeAuditList('').then(res => {\r\n    //   this.list = res.data\r\n    //   console.log(res)\r\n    // })\r\n  },\r\n  methods: {\r\n    upPages() {\r\n      if (this.curPage == 1) {\r\n        return;\r\n      }\r\n      if (this.prePage == true) {\r\n        this.curPage--;\r\n        getcasebytitle(this.curPage, this.sizePage, this.status).then(res => {\r\n          this.list = res.data.itemList;\r\n          this.nextPage = res.data.nextPage;\r\n          this.prePage = res.data.prePage;\r\n        });\r\n      }\r\n    },\r\n    nextPages() {\r\n      if (this.nextPage == true) {\r\n        this.curPage++;\r\n        getcasebytitle(this.curPage, this.sizePage, this.status).then(res => {\r\n          this.list = res.data.itemList;\r\n          this.nextPage = res.data.nextPage;\r\n          this.prePage = res.data.prePage;\r\n        });\r\n      }\r\n    },\r\n    del(id) {\r\n      this.$confirm(\"即将删除期刊, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          console.log(id);\r\n\r\n          delcase(id).then(res => {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"删除成功!\"\r\n            });\r\n            getcasebytitle(this.curPage, this.sizePage, this.status).then(\r\n              res => {\r\n                this.list = res.data.itemList;\r\n              }\r\n            );\r\n          });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\"\r\n          });\r\n        });\r\n    },\r\n    handleSuccess(res) {\r\n      console.log(res);\r\n      this.covers = res.data[1];\r\n      this.bannerUrl = res.data[1];\r\n      this.$refs.upload.clearFiles();\r\n    },\r\n    editor(id) {\r\n      this.$router.push({\r\n        name: \"addCaseComp\",\r\n        query: {\r\n          id: id\r\n        }\r\n      });\r\n    },\r\n    saveEdit() {\r\n      editcase(\r\n        this.title,\r\n        this.content,\r\n        this.status,\r\n        this.covers,\r\n        this.editId\r\n      ).then(res => {\r\n        if (res.code == 1000) {\r\n          this.$message({\r\n            message: \"保存成功\",\r\n            type: \"success\"\r\n          });\r\n        }\r\n        this.dialog = false;\r\n        this.$refs.upload.clearFiles();\r\n        getcasebytitle(this.curPage, this.sizePage, this.status).then(res => {\r\n          this.list = res.data.itemList;\r\n          this.nextPage = res.data.nextPage;\r\n          this.prePage = res.data.prePage;\r\n        });\r\n      });\r\n    },\r\n    unStatus() {\r\n       if(this.status == 1){\r\n          this.status = 0\r\n        }else{\r\n          this.status = 1\r\n        }\r\n      getcasebytitle(this.curPage, this.sizePage, this.status).then(res => {\r\n        // console.log(res)\r\n       \r\n        this.list = res.data.itemList;\r\n        this.nextPage = res.data.nextPage;\r\n        this.prePage = res.data.prePage;\r\n        // this.max = res.data.totalPage\r\n        // console.log(res);\r\n      });\r\n    },\r\n\r\n         //消息推送\r\n  pushDoc (text) {\r\n      this.$confirm('即将推送, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        let word = '《' +  text + '》'\r\n        pushMessage(word, 1).then(res => {\r\n          ////////////////////////////////////////////\r\n          if (res.data.errorlist.length == 0) {\r\n            this.$alert('已推送至全部部门!', '提示', {\r\n              confirmButtonText: '确定',\r\n              type: 'warning'\r\n            })\r\n          } else {\r\n            let text = ''\r\n            for (let i in res.data.errorlist) {\r\n              let content = res.data.errorlist[i] + '，'\r\n              text += content\r\n            }\r\n            text = text + '以上部门未推送成功'\r\n            this.$alert(text, '提示', {\r\n              confirmButtonText: '确定',\r\n              type: 'warning'\r\n            })\r\n          }\r\n          /////////////////////////////////////////////\r\n        })\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '取消推送'\r\n        });          \r\n      });\r\n    },\r\n  },\r\n  filters: {\r\n    formatDate(time) {\r\n      var date = new Date(time);\r\n      return formatDate(date, \"yyyy-MM-dd\");\r\n    },\r\n    stage (i) {\r\n    console.log(i);\r\n    \r\n      if (i == 0) {\r\n        return '通过'\r\n      }\r\n      if (i == 1) {\r\n        return '不通过'\r\n      }\r\n    }\r\n  },\r\n  \r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.pic-box {\r\n  width: 100px;\r\n  height: 80px;\r\n  // overflow: hidden;\r\n  // position: relative;\r\n}\r\n.pic {\r\n  width: 100%;\r\n  height: 100%;\r\n  // position: absolute;\r\n  // top: 50%;\r\n  // transform: translate3d(0, -50%, 0);\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/complaint/complaintCase/Casecompoent/listCaseComp.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',{staticStyle:{\"margin\":\"20px 0\",\"font-size\":\"24px\"}},[_vm._v(\"案例列表\")]),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin-bottom\":\"10px\",\"float\":\"right\"}},[_c('el-col',[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.unStatus}},[_vm._v(\"切换状态显示列表\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.upPages}},[_vm._v(\"上一页\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.curPage))]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.nextPages}},[_vm._v(\"下一页\")])],1)],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"type\":\"index\",\"label\":\"序号\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',[_vm._v(_vm._s(_vm._f(\"formatDate\")(scope.row.createTime)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"title\",\"label\":\"标题\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"状态\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',[_vm._v(_vm._s(_vm._f(\"stage\")(scope.row.status)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"400\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.pushDoc}},[_vm._v(\"消息推送\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.editor(scope.row.id)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.del(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-58675461\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/complaint/complaintCase/Casecompoent/listCaseComp.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-58675461\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./listCaseComp.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./listCaseComp.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./listCaseComp.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-58675461\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./listCaseComp.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-58675461\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/complaint/complaintCase/Casecompoent/listCaseComp.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}