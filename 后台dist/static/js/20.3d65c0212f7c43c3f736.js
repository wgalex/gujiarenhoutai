webpackJsonp([20],{cFIb:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7yfk"),s={data:function(){return{bannerUrl:null,remark:"",id:1,imgurl:null,addFlag:""}},created:function(){this.getBanner()},methods:{getBanner:function(){var t=this;Object(i.c)(this.id).then(function(e){null!=e.data?(t.bannerUrl=e.data.url,t.remark=e.data.remark,t.imgurl=e.data.url):t.addFlag=!0})},handleSuccess:function(t){this.imgurl=t.data[1],this.bannerUrl=t.data[1],this.$refs.upload.clearFiles(),console.log(t)},edit:function(){var t=this;if(""==this.remark||null==this.imgurl)return this.$alert("标题,或图片不能为空",{confirmButtonText:"确定"}),!1;1==this.addFlag?Object(i.a)(this.imgurl,this.remark,this.id).then(function(e){t.id=e.data.id,1e3==e.code&&t.$message({message:"保存成功",type:"success"})}):Object(i.b)(this.imgurl,this.remark,this.id).then(function(e){t.id=e.data.id,1e3==e.code&&t.$message({message:"保存成功",type:"success"})})}},components:{}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",{staticStyle:{margin:"20px 0","font-size":"24px"}},[t._v("首页管理")]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入标题内容",clearable:""},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}}),t._v(" "),a("el-row",{attrs:{type:"flex",justify:"end"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo mt",attrs:{name:"files",action:"/kukacms/visitor/picUpload.htm?type=8","on-success":t.handleSuccess,"show-file-list":!1,limit:1}},[a("el-button",{staticStyle:{width:"96px","margin-top":"10px"},attrs:{size:"mini",type:"primary"}},[t._v("上传图片")])],1)],1),t._v(" "),a("el-row",{staticClass:"title",attrs:{type:"flex",justify:"center"}},[a("span",[t._v("图片预览")])]),t._v(" "),a("el-row",{staticClass:"content",attrs:{type:"flex",justify:"center"}},[t.bannerUrl?[a("div",{staticClass:"pic-box"},[a("img",{staticClass:"pic",attrs:{src:t.bannerUrl,alt:""}})])]:[a("span",[t._v("暂无数据")])]],2),t._v(" "),a("el-button",{staticStyle:{width:"96px","margin-top":"10px"},attrs:{size:"mini",type:"primary"},on:{click:t.edit}},[t._v("保存")])],1)},staticRenderFns:[]};var n=a("C7Lr")(s,r,!1,function(t){a("zmje")},"data-v-e097ae88",null);e.default=n.exports},zmje:function(t,e){}});
//# sourceMappingURL=20.3d65c0212f7c43c3f736.js.map